V(function(){$(function(){var _option,author,category,i,j,k,len,len1,len2,max_pages,page,paginationHTMLTemplate,paginationTemplate,ref,ref1,ref2,resultTemplate,resultTemplateHTML,topic,updateSearch;$(".variable-option").hide();$(".posts-option").show();page=1;max_pages=1;$("#start-date").datepicker({format:"m/d/yy",clearBtn:true});$("#end-date").datepicker({format:"m/d/yy",clearBtn:true});$("#content-search").change(function(e){var content_type;content_type=$(this).val();if(content_type==="posts"){$(".variable-option").hide();return $(".posts-option").show();}else if(content_type==="topics"){$(".variable-option").hide();return $(".topics-option").show();}else if(content_type==="status"){return $(".variable-option").hide();}else if(content_type==="messages"){$(".variable-option").hide();return $(".messages-option").show();}});if(window.authors.length>0){ref=window.authors;for(i=0,len=ref.length;i<len;i++){author=ref[i];_option="<option value=\u005c""+author.id+"\u005c" selected=\u005c"selected\u005c">"+author.text+"</option>";$("#author-select").append(_option);}}\u000a$("#author-select").select2({ajax:{url:"/user-list-api",dataType:'json',delay:250,data:function(params){return{q:params.term};},processResults:function(data,page){console.log({results:data.results});return{results:data.results};},cache:true},minimumInputLength:2});if(window.categories.length>0){ref1=window.categories;for(j=0,len1=ref1.length;j<len1;j++){category=ref1[j];_option="<option value=\u005c""+category.id+"\u005c" selected=\u005c"selected\u005c">"+category.text+"</option>";$("#category-select").append(_option);}}\u000aif(window.topics.length>0){ref2=window.topics;for(k=0,len2=ref2.length;k<len2;k++){topic=ref2[k];_option="<option value=\u005c""+topic.id+"\u005c" selected=\u005c"selected\u005c">"+topic.text+"</option>";if(window.content_type==="posts"){$("#topic-select").append(_option);}else{$("#pm-topic-select").append(_option);}}}\u000a$("#topic-select").select2({ajax:{url:"/topic-list-api",dataType:'json',delay:250,data:function(params){return{q:params.term};},processResults:function(data,page){console.log({results:data.results});return{results:data.results};},cache:true},minimumInputLength:2});$("#category-select").select2({ajax:{url:"/category-list-api",dataType:'json',delay:250,data:function(params){return{q:params.term};},processResults:function(data,page){console.log({results:data.results});return{results:data.results};},cache:true},minimumInputLength:2});$("#pm-topic-select").select2({ajax:{url:"/pm-topic-list-api",dataType:'json',delay:250,data:function(params){return{q:params.term};},processResults:function(data,page){console.log({results:data.results});return{results:data.results};},cache:true},minimumInputLength:2});$("#search-for").val(window.search_for);$("#content-search").val(window.content_type);$("#start-date").val(window.start_date);$("#end-date").val(window.end_date);resultTemplateHTML=function(){return"<ul class=\u005c"list-group\u005c">\u005cn  <li class=\u005c"list-group-item\u005c">\u005cn    <p>\u005cn      <b>\u005cn        <a href=\u005c"{{url}}\u005c" class=\u005c"search-result-title\u005c">{{{title}}}</a>\u005cn      </b>\u005cn    </p>\u005cn    <div class=\u005c"search-result-content\u005c">\u005cn        {{{description}}}\u005cn        {{#if readmore}}\u005cn        <a href=\u005c"{{url}}\u005c" class=\u005c"readmore\u005c">\u005cn          <br><b>Read more »</b><br>\u005cn        </a>\u005cn        {{/if}}\u005cn    </div>\u005cn    <p class=\u005c"text-muted\u005c">by <a href=\u005c"{{author_profile_link}}\u005c">{{author_name}}</a> - {{time}}\u005cn    </p>\u005cn  </li>\u005cn</ul>";};resultTemplate=Handlebars.compile(resultTemplateHTML());paginationHTMLTemplate=function(){return"<ul class=\u005c"pagination\u005c">\u005cn  <li>\u005cn    <a href=\u005c"\u005c" aria-label=\u005c"Start\u005c" id=\u005c"go-to-start\u005c">\u005cn      <span aria-hidden=\u005c"true\u005c">Go to Start</span>\u005cn    </a>\u005cn  </li>\u005cn  <li>\u005cn    <a href=\u005c"\u005c" aria-label=\u005c"Previous\u005c" id=\u005c"previous-page\u005c">\u005cn      <span aria-hidden=\u005c"true\u005c">&laquo;</span>\u005cn    </a>\u005cn  </li>\u005cn  {{#each pages}}\u005cn  <li><a href=\u005c"\u005c" class=\u005c"change-page page-link-{{this}}\u005c">{{this}}</a></li>\u005cn  {{/each}}\u005cn  <li>\u005cn    <a href=\u005c"\u005c" aria-label=\u005c"Next\u005c" id=\u005c"next-page\u005c">\u005cn      <span aria-hidden=\u005c"true\u005c">&raquo;</span>\u005cn    </a>\u005cn  </li>\u005cn  <li>\u005cn    <a href=\u005c"\u005c" aria-label=\u005c"End\u005c" id=\u005c"go-to-end\u005c">\u005cn      <span aria-hidden=\u005c"true\u005c">Go to End</span>\u005cn    </a>\u005cn  </li>\u005cn</ul>";};paginationTemplate=Handlebars.compile(paginationHTMLTemplate());updateSearch=function(){var content_type,data;content_type=$("#content-search").val();data={q:$("#search-for").val(),content_type:content_type,page:page,authors:$("#author-select").val()};if($("#start-date").val()!==""){data["start_date"]=$("#start-date").val();}\u000aif($("#end-date").val()!==""){data["end_date"]=$("#end-date").val();}\u000aif(content_type==="messages"){data["topics"]=$("#pm-topic-select").val();}\u000aif(content_type==="posts"){data["topics"]=$("#topic-select").val();}\u000aif(content_type==="topics"){data["categories"]=$("#category-select").val();}\u000areturn $.post("/search",JSON.stringify(data),function(data){var _html,l,len3,m,n,o,p,pages,pagination_html,ref3,ref4,ref5,ref6,ref7,ref8,result,results,results1,results2,results3;console.log(data);if(data.count===0){return $("#search-results").html("<p>No results...</p>");}else{_html="";ref3=data.results;for(l=0,len3=ref3.length;l<len3;l++){result=ref3[l];_html=_html+resultTemplate(result).replace("img","i");}\u000a$("#search-results-buffer").html(_html);$("#search-results-buffer").find("br").remove();$("#search-results").html($("#search-results-buffer").html());$("#search-results-buffer").html("");$(".search-result-content").dotdotdot({height:200,after:".readmore"});pages=[];max_pages=Math.ceil(data.count/data.pagination);if(max_pages>5){if(page>3&&page<max_pages-5){pages=(function(){results=[];for(var m=ref4=page-2,ref5=page+5;ref4<=ref5?m<=ref5:m>=ref5;ref4<=ref5?m++:m--){results.push(m);}\u000areturn results;}).apply(this);}else if(page>3){pages=(function(){results1=[];for(var n=ref6=page-2;ref6<=max_pages?n<=max_pages:n>=max_pages;ref6<=max_pages?n++:n--){results1.push(n);}\u000areturn results1;}).apply(this);}else if(page<=3){pages=(function(){results2=[];for(var o=1,ref7=page+5;1<=ref7?o<=ref7:o>=ref7;1<=ref7?o++:o--){results2.push(o);}\u000areturn results2;}).apply(this);}}else{pages=(function(){results3=[];for(var p=1,ref8=Math.ceil(data.count/data.pagination);1<=ref8?p<=ref8:p>=ref8;1<=ref8?p++:p--){results3.push(p);}\u000areturn results3;}).apply(this);}\u000apagination_html=paginationTemplate({pages:pages});$("#results-header")[0].scrollIntoView();$(".search-pagination").html(pagination_html);$("#results-header").text(data.count+" Search Results");return $(".page-link-"+page).parent().addClass("active");}});};$("#search").click(function(e){e.preventDefault();page=1;return updateSearch();});$("form").submit(function(e){e.preventDefault();return $("#search").click();});$(".search-pagination").delegate("#next-page","click",function(e){var element;e.preventDefault();element=$(this);if(page!==max_pages){$(".change-page").parent().removeClass("active");page++;return updateSearch();}});$(".search-pagination").delegate("#previous-page","click",function(e){var element;e.preventDefault();element=$(this);if(page!==1){$(".change-page").parent().removeClass("active");page--;return updateSearch();}});$(".search-pagination").delegate("#go-to-end","click",function(e){var element;e.preventDefault();element=$(this);page=parseInt(max_pages);return updateSearch();});$(".search-pagination").delegate(".change-page","click",function(e){var element;e.preventDefault();element=$(this);page=parseInt(element.text());return updateSearch();});return $(".search-pagination").delegate("#go-to-start","click",function(e){var element;e.preventDefault();element=$(this);page=1;return updateSearch();});});}).call(this);(function($,undef)\u000a{if($.fn.dotdotdot)\u000a{return;}\u000a$.fn.dotdotdot=function(o)\u000a{if(this.length==0)\u000a{$.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this;}\u000aif(this.length>1)\u000a{return this.each(function()\u000a{$(this).dotdotdot(o);});}\u000avar $dot=this;if($dot.data('dotdotdot'))\u000a{$dot.trigger('destroy.dot');}\u000a$dot.data('dotdotdot-style',$dot.attr('style')||'');$dot.css('word-wrap','break-word');if($dot.css('white-space')==='nowrap')\u000a{$dot.css('white-space','normal');}\u000a$dot.bind_events=function()\u000a{$dot.bind('update.dot',function(e,c)\u000a{$dot.removeClass("is-truncated");e.preventDefault();e.stopPropagation();opts.maxHeight=(typeof opts.height=='number')?opts.height:getTrueInnerHeight($dot);opts.maxHeight+=opts.tolerance;if(typeof c!='undefined')\u000a{if(typeof c=='string'||('nodeType'in c&&c.nodeType===1))\u000a{c=$('<div />').append(c).contents();}\u000aif(c instanceof $)\u000a{orgContent=c;}}\u000a$inr=$dot.wrapInner('<div class="dotdotdot" />').children();$inr.contents().detach().end().append(orgContent.clone(true)).find('br').replaceWith('  <br />  ').end().css({'height':'auto','width':'auto','border':'none','padding':0,'margin':0});var after=false,trunc=false;if(conf.afterElement)\u000a{after=conf.afterElement.clone(true);after.show();conf.afterElement.detach();}\u000aif(test($inr,opts))\u000a{if(opts.wrap=='children')\u000a{trunc=children($inr,opts,after);}\u000aelse\u000a{trunc=ellipsis($inr,$dot,$inr,opts,after);}}\u000a$inr.replaceWith($inr.contents());$inr=null;if($.isFunction(opts.callback))\u000a{opts.callback.call($dot[0],trunc,orgContent);}\u000aconf.isTruncated=trunc;return trunc;}).bind('isTruncated.dot',function(e,fn)\u000a{e.preventDefault();e.stopPropagation();if(typeof fn=='function')\u000a{fn.call($dot[0],conf.isTruncated);}\u000areturn conf.isTruncated;}).bind('originalContent.dot',function(e,fn)\u000a{e.preventDefault();e.stopPropagation();if(typeof fn=='function')\u000a{fn.call($dot[0],orgContent);}\u000areturn orgContent;}).bind('destroy.dot',function(e)\u000a{e.preventDefault();e.stopPropagation();$dot.unwatch().unbind_events().contents().detach().end().append(orgContent).attr('style',$dot.data('dotdotdot-style')||'').data('dotdotdot',false);});return $dot;};$dot.unbind_events=function()\u000a{$dot.unbind('.dot');return $dot;};$dot.watch=function()\u000a{$dot.unwatch();if(opts.watch=='window')\u000a{var $window=$(window),_wWidth=$window.width(),_wHeight=$window.height();$window.bind('resize.dot'+conf.dotId,function()\u000a{if(_wWidth!=$window.width()||_wHeight!=$window.height()||!opts.windowResizeFix)\u000a{_wWidth=$window.width();_wHeight=$window.height();if(watchInt)\u000a{clearInterval(watchInt);}\u000awatchInt=setTimeout(function()\u000a{$dot.trigger('update.dot');},100);}});}\u000aelse\u000a{watchOrg=getSizes($dot);watchInt=setInterval(function()\u000a{if($dot.is(':visible'))\u000a{var watchNew=getSizes($dot);if(watchOrg.width!=watchNew.width||watchOrg.height!=watchNew.height)\u000a{$dot.trigger('update.dot');watchOrg=watchNew;}}},500);}\u000areturn $dot;};$dot.unwatch=function()\u000a{$(window).unbind('resize.dot'+conf.dotId);if(watchInt)\u000a{clearInterval(watchInt);}\u000areturn $dot;};var orgContent=$dot.contents(),opts=$.extend(true,{},$.fn.dotdotdot.defaults,o),conf={},watchOrg={},watchInt=null,$inr=null;if(!(opts.lastCharacter.remove instanceof Array))\u000a{opts.lastCharacter.remove=$.fn.dotdotdot.defaultArrays.lastCharacter.remove;}\u000aif(!(opts.lastCharacter.noEllipsis instanceof Array))\u000a{opts.lastCharacter.noEllipsis=$.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis;}\u000aconf.afterElement=getElement(opts.after,$dot);conf.isTruncated=false;conf.dotId=dotId++;$dot.data('dotdotdot',true).bind_events().trigger('update.dot');if(opts.watch)\u000a{$dot.watch();}\u000areturn $dot;};$.fn.dotdotdot.defaults={'ellipsis':'... ','wrap':'word','fallbackToLetter':true,'lastCharacter':{},'tolerance':0,'callback':null,'after':null,'height':null,'watch':false,'windowResizeFix':true};$.fn.dotdotdot.defaultArrays={'lastCharacter':{'remove':[' ','\u005cu3000',',',';','.','!','?'],'noEllipsis':[]}};$.fn.dotdotdot.debug=function(msg){};var dotId=1;function children($elem,o,after)\u000a{var $elements=$elem.children(),isTruncated=false;$elem.empty();for(var a=0,l=$elements.length;a<l;a++)\u000a{var $e=$elements.eq(a);$elem.append($e);if(after)\u000a{$elem.append(after);}\u000aif(test($elem,o))\u000a{$e.remove();isTruncated=true;break;}\u000aelse\u000a{if(after)\u000a{after.detach();}}}\u000areturn isTruncated;}\u000afunction ellipsis($elem,$d,$i,o,after)\u000a{var isTruncated=false;var notx='a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style';var noty='script, .dotdotdot-keep';$elem.contents().detach().each(function()\u000a{var e=this,$e=$(e);if(typeof e=='undefined')\u000a{return true;}\u000aelse if($e.is(noty))\u000a{$elem.append($e);}\u000aelse if(isTruncated)\u000a{return true;}\u000aelse\u000a{$elem.append($e);if(after&&!$e.is(o.after)&&!$e.find(o.after).length)\u000a{$elem[$elem.is(notx)?'after':'append'](after);}\u000aif(test($i,o))\u000a{if(e.nodeType==3)\u000a{isTruncated=ellipsisElement($e,$d,$i,o,after);}\u000aelse\u000a{isTruncated=ellipsis($e,$d,$i,o,after);}\u000aif(!isTruncated)\u000a{$e.detach();isTruncated=true;}}\u000aif(!isTruncated)\u000a{if(after)\u000a{after.detach();}}}});$d.addClass("is-truncated");return isTruncated;}\u000afunction ellipsisElement($e,$d,$i,o,after)\u000a{var e=$e[0];if(!e)\u000a{return false;}\u000avar txt=getTextContent(e),space=(txt.indexOf(' ')!==-1)?' ':'\u005cu3000',separator=(o.wrap=='letter')?'':space,textArr=txt.split(separator),position=-1,midPos=-1,startPos=0,endPos=textArr.length-1;if(o.fallbackToLetter&&startPos==0&&endPos==0)\u000a{separator='';textArr=txt.split(separator);endPos=textArr.length-1;}\u000awhile(startPos<=endPos&&!(startPos==0&&endPos==0))\u000a{var m=Math.floor((startPos+endPos)/2);if(m==midPos)\u000a{break;}\u000amidPos=m;setTextContent(e,textArr.slice(0,midPos+1).join(separator)+o.ellipsis);if(!test($i,o))\u000a{position=midPos;startPos=midPos;}\u000aelse\u000a{endPos=midPos;if(o.fallbackToLetter&&startPos==0&&endPos==0)\u000a{separator='';textArr=textArr[0].split(separator);position=-1;midPos=-1;startPos=0;endPos=textArr.length-1;}}}\u000aif(position!=-1&&!(textArr.length==1&&textArr[0].length==0))\u000a{txt=addEllipsis(textArr.slice(0,position+1).join(separator),o);setTextContent(e,txt);}\u000aelse\u000a{var $w=$e.parent();$e.detach();var afterLength=(after&&after.closest($w).length)?after.length:0;if($w.contents().length>afterLength)\u000a{e=findLastTextNode($w.contents().eq(-1-afterLength),$d);}\u000aelse\u000a{e=findLastTextNode($w,$d,true);if(!afterLength)\u000a{$w.detach();}}\u000aif(e)\u000a{txt=addEllipsis(getTextContent(e),o);setTextContent(e,txt);if(afterLength&&after)\u000a{$(e).parent().append(after);}}}\u000areturn true;}\u000afunction test($i,o)\u000a{return $i.innerHeight()>o.maxHeight;}\u000afunction addEllipsis(txt,o)\u000a{while($.inArray(txt.slice(-1),o.lastCharacter.remove)>-1)\u000a{txt=txt.slice(0,-1);}\u000aif($.inArray(txt.slice(-1),o.lastCharacter.noEllipsis)<0)\u000a{txt+=o.ellipsis;}\u000areturn txt;}\u000afunction getSizes($d)\u000a{return{'width':$d.innerWidth(),'height':$d.innerHeight()};}\u000afunction setTextContent(e,content)\u000a{if(e.innerText)\u000a{e.innerText=content;}\u000aelse if(e.nodeValue)\u000a{e.nodeValue=content;}\u000aelse if(e.textContent)\u000a{e.textContent=content;}}\u000afunction getTextContent(e)\u000a{if(e.innerText)\u000a{return e.innerText;}\u000aelse if(e.nodeValue)\u000a{return e.nodeValue;}\u000aelse if(e.textContent)\u000a{return e.textContent;}\u000aelse\u000a{return"";}}\u000afunction getPrevNode(n)\u000a{do\u000a{n=n.previousSibling;}\u000awhile(n&&n.nodeType!==1&&n.nodeType!==3);return n;}\u000afunction findLastTextNode($el,$top,excludeCurrent)\u000a{var e=$el&&$el[0],p;if(e)\u000a{if(!excludeCurrent)\u000a{if(e.nodeType===3)\u000a{return e;}\u000aif($.trim($el.text()))\u000a{return findLastTextNode($el.contents().last(),$top);}}\u000ap=getPrevNode(e);while(!p)\u000a{$el=$el.parent();if($el.is($top)||!$el.length)\u000a{return false;}\u000ap=getPrevNode($el[0]);}\u000aif(p)\u000a{return findLastTextNode($(p),$top);}}\u000areturn false;}\u000afunction getElement(e,$i)\u000a{if(!e)\u000a{return false;}\u000aif(typeof e==='string')\u000a{e=$(e,$i);return(e.length)?e:false;}\u000areturn!e.jquery?false:e;}\u000afunction getTrueInnerHeight($el)\u000a{var h=$el.innerHeight(),a=['paddingTop','paddingBottom'];for(var z=0,l=a.length;z<l;z++)\u000a{var m=parseInt($el.css(a[z]),10);if(isNaN(m))\u000a{m=0;}\u000ah-=m;}\u000areturn h;}\u000avar _orgHtml=$.fn.html;$.fn.html=function(str)\u000a{if(str!=undef&&!$.isFunction(str)&&this.data('dotdotdot'))\u000a{return this.trigger('update',[str]);}\u000areturn _orgHtml.apply(this,arguments);};var _orgText=$.fn.text;$.fn.text=function(str)\u000a{if(str!=undef&&!$.isFunction(str)&&this.data('dotdotdot'))\u000a{str=$('<div />').text(str).html();return this.trigger('update',[str]);}\u000areturn _orgText.apply(this,arguments);};})(jQuery);(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments));}\u000afunction UTCToday(){var today=new Date();return UTCDate(today.getFullYear(),today.getMonth(),today.getDate());}\u000afunction isUTCEquals(date1,date2){return(date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getUTCMonth()===date2.getUTCMonth()&&date1.getUTCDate()===date2.getUTCDate());}\u000afunction alias(method){return function(){return this[method].apply(this,arguments);};}\u000avar DateArray=(function(){var extras={get:function(i){return this.slice(i)[0];},contains:function(d){var val=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)\u000aif(this[i].valueOf()===val)\u000areturn i;return-1;},remove:function(i){this.splice(i,1);},replace:function(new_array){if(!new_array)\u000areturn;if(!$.isArray(new_array))\u000anew_array=[new_array];this.clear();this.push.apply(this,new_array);},clear:function(){this.length=0;},copy:function(){var a=new DateArray();a.replace(this);return a;}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,extras);return a;};})();var Datepicker=function(element,options){this._process_options(options);this.dates=new DateArray();this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=$(element);this.isInline=false;this.isInput=this.element.is('input');this.component=this.element.hasClass('date')?this.element.find('.add-on, .input-group-addon, .btn'):false;this.hasInput=this.component&&this.element.find('input').length;if(this.component&&this.component.length===0)\u000athis.component=false;this.picker=$(DPGlobal.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass('datepicker-inline').appendTo(this.element);}\u000aelse{this.picker.addClass('datepicker-dropdown dropdown-menu');}\u000aif(this.o.rtl){this.picker.addClass('datepicker-rtl');}\u000athis.viewMode=this.o.startView;if(this.o.calendarWeeks)\u000athis.picker.find('tfoot .today, tfoot .clear').attr('colspan',function(i,val){return parseInt(val)+1;});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show();}};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o);var lang=o.language;if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])\u000alang=defaults.language;}\u000ao.language=lang;switch(o.startView){case 2:case'decade':o.startView=2;break;case 1:case'year':o.startView=1;break;default:o.startView=0;}\u000aswitch(o.minViewMode){case 1:case'months':o.minViewMode=1;break;case 2:case'years':o.minViewMode=2;break;default:o.minViewMode=0;}\u000ao.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false)\u000ao.multidate=Math.max(0,o.multidate);}\u000ao.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=((o.weekStart+6)%7);var format=DPGlobal.parseFormat(o.format);if(o.startDate!==-Infinity){if(!!o.startDate){if(o.startDate instanceof Date)\u000ao.startDate=this._local_to_utc(this._zero_time(o.startDate));else\u000ao.startDate=DPGlobal.parseDate(o.startDate,format,o.language);}\u000aelse{o.startDate=-Infinity;}}\u000aif(o.endDate!==Infinity){if(!!o.endDate){if(o.endDate instanceof Date)\u000ao.endDate=this._local_to_utc(this._zero_time(o.endDate));else\u000ao.endDate=DPGlobal.parseDate(o.endDate,format,o.language);}\u000aelse{o.endDate=Infinity;}}\u000ao.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))\u000ao.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\u005cs]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10);});o.datesDisabled=o.datesDisabled||[];if(!$.isArray(o.datesDisabled)){var datesDisabled=[];datesDisabled.push(DPGlobal.parseDate(o.datesDisabled,format,o.language));o.datesDisabled=datesDisabled;}\u000ao.datesDisabled=$.map(o.datesDisabled,function(d){return DPGlobal.parseDate(d,format,o.language);});var plc=String(o.orientation).toLowerCase().split(/\u005cs+/g),_plc=o.orientation.toLowerCase();plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word);});o.orientation={x:'auto',y:'auto'};if(!_plc||_plc==='auto');else if(plc.length===1){switch(plc[0]){case'top':case'bottom':o.orientation.y=plc[0];break;case'left':case'right':o.orientation.x=plc[0];break;}}\u000aelse{_plc=$.grep(plc,function(word){return/^left|right$/.test(word);});o.orientation.x=_plc[0]||'auto';_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word);});o.orientation.y=_plc[0]||'auto';}\u000aif(o.defaultViewDate){var year=o.defaultViewDate.year||new Date().getFullYear();var month=o.defaultViewDate.month||0;var day=o.defaultViewDate.day||1;o.defaultViewDate=UTCDate(year,month,day);}else{o.defaultViewDate=UTCToday();}\u000ao.showOnFocus=o.showOnFocus!==undefined?o.showOnFocus:true;},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var i=0,el,ch,ev;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1];}\u000aelse if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2];}\u000ael.on(ev,ch);}},_unapplyEvents:function(evs){for(var i=0,el,ev,ch;i<evs.length;i++){el=evs[i][0];if(evs[i].length===2){ch=undefined;ev=evs[i][1];}\u000aelse if(evs[i].length===3){ch=evs[i][1];ev=evs[i][2];}\u000ael.off(ev,ch);}},_buildEvents:function(){var events={keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)\u000athis.update();},this),keydown:$.proxy(this.keydown,this)};if(this.o.showOnFocus===true){events.focus=$.proxy(this.show,this);}\u000aif(this.isInput){this._events=[[this.element,events]];}\u000aelse if(this.component&&this.hasInput){this._events=[[this.element.find('input'),events],[this.component,{click:$.proxy(this.show,this)}]];}\u000aelse if(this.element.is('div')){this.isInline=true;}\u000aelse{this._events=[[this.element,{click:$.proxy(this.show,this)}]];}\u000athis._events.push([this.element,'*',{blur:$.proxy(function(e){this._focused_from=e.target;},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target;},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{'mousedown touchstart':$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length)){this.hide();}},this)}]];},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events);},_detachEvents:function(){this._unapplyEvents(this._events);},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents);},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents);},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){if(arguments.length===0){ix=this.dates.length-1;format=this.o.format;}\u000aelse if(typeof ix==='string'){format=ix;ix=this.dates.length-1;}\u000aformat=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language);},this)});},show:function(){if(this.element.attr('readonly')&&this.o.enableOnReadonly===false)\u000areturn;if(!this.isInline)\u000athis.picker.appendTo(this.o.container);this.place();this.picker.show();this._attachSecondaryEvents();this._trigger('show');if((window.navigator.msMaxTouchPoints||'ontouchstart'in document)&&this.o.disableTouchKeyboard){$(this.element).blur();}\u000areturn this;},hide:function(){if(this.isInline)\u000areturn this;if(!this.picker.is(':visible'))\u000areturn this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find('input').val()))\u000athis.setValue();this._trigger('hide');return this;},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date;}\u000areturn this;},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+(utc.getTimezoneOffset()*60000));},_local_to_utc:function(local){return local&&new Date(local.getTime()-(local.getTimezoneOffset()*60000));},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate());},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()));},getDates:function(){return $.map(this.dates,this._utc_to_local);},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d);});},getDate:function(){return this._utc_to_local(this.getUTCDate());},getUTCDate:function(){var selected_date=this.dates.get(-1);if(typeof selected_date!=='undefined'){return new Date(selected_date);}else{return null;}},clearDates:function(){var element;if(this.isInput){element=this.element;}else if(this.component){element=this.element.find('input');}\u000aif(element){element.val('').change();}\u000athis.update();this._trigger('changeDate');if(this.o.autoclose){this.hide();}},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,args);this._trigger('changeDate');this.setValue();return this;},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(args,this._utc_to_local));this._trigger('changeDate');this.setValue();return this;},setDate:alias('setDates'),setUTCDate:alias('setUTCDates'),setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find('input').val(formatted).change();}}\u000aelse{this.element.val(formatted).change();}\u000areturn this;},getFormattedDate:function(format){if(format===undefined)\u000aformat=this.o.format;var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang);}).join(this.o.multidateSeparator);},setStartDate:function(startDate){this._process_options({startDate:startDate});this.update();this.updateNavArrows();return this;},setEndDate:function(endDate){this._process_options({endDate:endDate});this.update();this.updateNavArrows();return this;},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled});this.update();this.updateNavArrows();return this;},setDatesDisabled:function(datesDisabled){this._process_options({datesDisabled:datesDisabled});this.update();this.updateNavArrows();},place:function(){if(this.isInline)\u000areturn this;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,windowWidth=$(this.o.container).width(),windowHeight=$(this.o.container).height(),scrollTop=$(this.o.container).scrollTop(),appendOffset=$(this.o.container).offset();var parentsZindex=[];this.element.parents().each(function(){var itemZIndex=$(this).css('z-index');if(itemZIndex!=='auto'&&itemZIndex!==0)parentsZindex.push(parseInt(itemZIndex));});var zIndex=Math.max.apply(Math,parentsZindex)+10;var offset=this.component?this.component.parent().offset():this.element.offset();var height=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var width=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var left=offset.left-appendOffset.left,top=offset.top-appendOffset.top;this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom '+'datepicker-orient-right datepicker-orient-left');if(this.o.orientation.x!=='auto'){this.picker.addClass('datepicker-orient-'+this.o.orientation.x);if(this.o.orientation.x==='right')\u000aleft-=calendarWidth-width;}\u000aelse{if(offset.left<0){this.picker.addClass('datepicker-orient-left');left-=offset.left-visualPadding;}else if(left+calendarWidth>windowWidth){this.picker.addClass('datepicker-orient-right');left=offset.left+width-calendarWidth;}else{this.picker.addClass('datepicker-orient-left');}}\u000avar yorient=this.o.orientation.y,top_overflow,bottom_overflow;if(yorient==='auto'){top_overflow=-scrollTop+top-calendarHeight;bottom_overflow=scrollTop+windowHeight-(top+height+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===bottom_overflow)\u000ayorient='top';else\u000ayorient='bottom';}\u000athis.picker.addClass('datepicker-orient-'+yorient);if(yorient==='top')\u000atop+=height;else\u000atop-=calendarHeight+parseInt(this.picker.css('padding-top'));if(this.o.rtl){var right=windowWidth-(left+width);this.picker.css({top:top,right:right,zIndex:zIndex});}else{this.picker.css({top:top,left:left,zIndex:zIndex});}\u000areturn this;},_allow_update:true,update:function(){if(!this._allow_update)\u000areturn this;var oldDates=this.dates.copy(),dates=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,date){if(date instanceof Date)\u000adate=this._local_to_utc(date);dates.push(date);},this));fromArgs=true;}\u000aelse{dates=this.isInput?this.element.val():this.element.data('date')||this.element.find('input').val();if(dates&&this.o.multidate)\u000adates=dates.split(this.o.multidateSeparator);else\u000adates=[dates];delete this.element.data().date;}\u000adates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language);},this));dates=$.grep(dates,$.proxy(function(date){return(date<this.o.startDate||date>this.o.endDate||!date);},this),true);this.dates.replace(dates);if(this.dates.length)\u000athis.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)\u000athis.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)\u000athis.viewDate=new Date(this.o.endDate);if(fromArgs){this.setValue();}\u000aelse if(dates.length){if(String(oldDates)!==String(this.dates))\u000athis._trigger('changeDate');}\u000aif(!this.dates.length&&oldDates.length)\u000athis._trigger('clearDate');this.fill();return this;},fillDow:function(){var dowCnt=this.o.weekStart,html='<tr>';if(this.o.calendarWeeks){this.picker.find('.datepicker-days thead tr:first-child .datepicker-switch').attr('colspan',function(i,val){return parseInt(val)+1;});var cell='<th class="cw">&#160;</th>';html+=cell;}\u000awhile(dowCnt<this.o.weekStart+7){html+='<th class="dow">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';}\u000ahtml+='</tr>';this.picker.find('.datepicker-days thead').append(html);},fillMonths:function(){var html='',i=0;while(i<12){html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+'</span>';}\u000athis.picker.find('.datepicker-months td').html(html);},setRange:function(range){if(!range||!range.length)\u000adelete this.range;else\u000athis.range=$.map(range,function(d){return d.valueOf();});this.fill();},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date();if(date.getUTCFullYear()<year||(date.getUTCFullYear()===year&&date.getUTCMonth()<month)){cls.push('old');}\u000aelse if(date.getUTCFullYear()>year||(date.getUTCFullYear()===year&&date.getUTCMonth()>month)){cls.push('new');}\u000aif(this.focusDate&&date.valueOf()===this.focusDate.valueOf())\u000acls.push('focused');if(this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate()){cls.push('today');}\u000aif(this.dates.contains(date)!==-1)\u000acls.push('active');if(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){cls.push('disabled');}\u000aif(this.o.datesDisabled.length>0&&$.grep(this.o.datesDisabled,function(d){return isUTCEquals(date,d);}).length>0){cls.push('disabled','disabled-date');}\u000aif(this.range){if(date>this.range[0]&&date<this.range[this.range.length-1]){cls.push('range');}\u000aif($.inArray(date.valueOf(),this.range)!==-1){cls.push('selected');}}\u000areturn cls;},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=dates[this.o.language].today||dates['en'].today||'',cleartxt=dates[this.o.language].clear||dates['en'].clear||'',tooltip;if(isNaN(year)||isNaN(month))\u000areturn;this.picker.find('.datepicker-days thead .datepicker-switch').text(dates[this.o.language].months[month]+' '+year);this.picker.find('tfoot .today').text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find('tfoot .clear').text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()===this.o.weekStart){html.push('<tr>');if(this.o.calendarWeeks){var\u000aws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(Number(ws)+(7+4-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+'</td>');}}\u000aclsName=this.getClassNames(prevMonth);clsName.push('day');if(this.o.beforeShowDay!==$.noop){var before=this.o.beforeShowDay(this._utc_to_local(prevMonth));if(before===undefined)\u000abefore={};else if(typeof(before)==='boolean')\u000abefore={enabled:before};else if(typeof(before)==='string')\u000abefore={classes:before};if(before.enabled===false)\u000aclsName.push('disabled');if(before.classes)\u000aclsName=clsName.concat(before.classes.split(/\u005cs+/));if(before.tooltip)\u000atooltip=before.tooltip;}\u000aclsName=$.unique(clsName);html.push('<td class="'+clsName.join(' ')+'"'+(tooltip?' title="'+tooltip+'"':'')+'>'+prevMonth.getUTCDate()+'</td>');tooltip=null;if(prevMonth.getUTCDay()===this.o.weekEnd){html.push('</tr>');}\u000aprevMonth.setUTCDate(prevMonth.getUTCDate()+1);}\u000athis.picker.find('.datepicker-days tbody').empty().append(html.join(''));var months=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)\u000amonths.eq(d.getUTCMonth()).addClass('active');});if(year<startYear||year>endYear){months.addClass('disabled');}\u000aif(year===startYear){months.slice(0,startMonth).addClass('disabled');}\u000aif(year===endYear){months.slice(endMonth+1).addClass('disabled');}\u000aif(this.o.beforeShowMonth!==$.noop){var that=this;$.each(months,function(i,month){if(!$(month).hasClass('disabled')){var moDate=new Date(year,i,1);var before=that.o.beforeShowMonth(moDate);if(before===false)\u000a$(month).addClass('disabled');}});}\u000ahtml='';year=parseInt(year/10,10)*10;var yearCont=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;var years=$.map(this.dates,function(d){return d.getUTCFullYear();}),classes;for(var i=-1;i<11;i++){classes=['year'];if(i===-1)\u000aclasses.push('old');else if(i===10)\u000aclasses.push('new');if($.inArray(year,years)!==-1)\u000aclasses.push('active');if(year<startYear||year>endYear)\u000aclasses.push('disabled');html+='<span class="'+classes.join(' ')+'">'+year+'</span>';year+=1;}\u000ayearCont.html(html);},updateNavArrows:function(){if(!this._allow_update)\u000areturn;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find('.prev').css({visibility:'hidden'});}\u000aelse{this.picker.find('.prev').css({visibility:'visible'});}\u000aif(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find('.next').css({visibility:'hidden'});}\u000aelse{this.picker.find('.next').css({visibility:'visible'});}\u000abreak;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find('.prev').css({visibility:'hidden'});}\u000aelse{this.picker.find('.prev').css({visibility:'visible'});}\u000aif(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find('.next').css({visibility:'hidden'});}\u000aelse{this.picker.find('.next').css({visibility:'visible'});}\u000abreak;}},click:function(e){e.preventDefault();var target=$(e.target).closest('span, td, th'),year,month,day;if(target.length===1){switch(target[0].nodeName.toLowerCase()){case'th':switch(target[0].className){case'datepicker-switch':this.showMode(1);break;case'prev':case'next':var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className==='prev'?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);this._trigger('changeMonth',this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir);if(this.viewMode===1)\u000athis._trigger('changeYear',this.viewDate);break;}\u000athis.fill();break;case'today':var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);this.showMode(-2);var which=this.o.todayBtn==='linked'?null:'view';this._setDate(date,which);break;case'clear':this.clearDates();break;}\u000abreak;case'span':if(!target.hasClass('disabled')){this.viewDate.setUTCDate(1);if(target.hasClass('month')){day=1;month=target.parent().find('span').index(target);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger('changeMonth',this.viewDate);if(this.o.minViewMode===1){this._setDate(UTCDate(year,month,day));}}\u000aelse{day=1;month=0;year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger('changeYear',this.viewDate);if(this.o.minViewMode===2){this._setDate(UTCDate(year,month,day));}}\u000athis.showMode(-1);this.fill();}\u000abreak;case'td':if(target.hasClass('day')&&!target.hasClass('disabled')){day=parseInt(target.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();if(target.hasClass('old')){if(month===0){month=11;year-=1;}\u000aelse{month-=1;}}\u000aelse if(target.hasClass('new')){if(month===11){month=0;year+=1;}\u000aelse{month+=1;}}\u000athis._setDate(UTCDate(year,month,day));}\u000abreak;}}\u000aif(this.picker.is(':visible')&&this._focused_from){$(this._focused_from).focus();}\u000adelete this._focused_from;},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(!date){this.dates.clear();}\u000aif(ix!==-1){if(this.o.multidate===true||this.o.multidate>1||this.o.toggleActive){this.dates.remove(ix);}}else if(this.o.multidate===false){this.dates.clear();this.dates.push(date);}\u000aelse{this.dates.push(date);}\u000aif(typeof this.o.multidate==='number')\u000awhile(this.dates.length>this.o.multidate)\u000athis.dates.remove(0);},_setDate:function(date,which){if(!which||which==='date')\u000athis._toggle_multidate(date&&new Date(date));if(!which||which==='view')\u000athis.viewDate=date&&new Date(date);this.fill();this.setValue();if(!which||which!=='view'){this._trigger('changeDate');}\u000avar element;if(this.isInput){element=this.element;}\u000aelse if(this.component){element=this.element.find('input');}\u000aif(element){element.change();}\u000aif(this.o.autoclose&&(!which||which==='date')){this.hide();}},moveMonth:function(date,dir){if(!date)\u000areturn undefined;if(!dir)\u000areturn date;var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag===1){test=dir===-1?function(){return new_date.getUTCMonth()===month;}:function(){return new_date.getUTCMonth()!==new_month;};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11)\u000anew_month=(new_month+12)%12;}\u000aelse{for(var i=0;i<mag;i++)\u000anew_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!==new_date.getUTCMonth();};}\u000awhile(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month);}\u000areturn new_date;},moveYear:function(date,dir){return this.moveMonth(date,dir*12);},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate;},keydown:function(e){if(!this.picker.is(':visible')){if(e.keyCode===27)\u000athis.show();return;}\u000avar dateChanged=false,dir,newDate,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();}\u000aelse\u000athis.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)\u000abreak;dir=e.keyCode===37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate);}\u000aelse if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate);}\u000aelse{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir);}\u000aif(this.dateWithinRange(newViewDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault();}\u000abreak;case 38:case 40:if(!this.o.keyboardNavigation)\u000abreak;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate);}\u000aelse if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate);}\u000aelse{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7);}\u000aif(this.dateWithinRange(newViewDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault();}\u000abreak;case 32:break;case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this._toggle_multidate(focusDate);dateChanged=true;}\u000athis.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(':visible')){e.preventDefault();if(typeof e.stopPropagation==='function'){e.stopPropagation();}else{e.cancelBubble=true;}\u000aif(this.o.autoclose)\u000athis.hide();}\u000abreak;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break;}\u000aif(dateChanged){if(this.dates.length)\u000athis._trigger('changeDate');else\u000athis._trigger('clearDate');var element;if(this.isInput){element=this.element;}\u000aelse if(this.component){element=this.element.find('input');}\u000aif(element){element.change();}}},showMode:function(dir){if(dir){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir));}\u000athis.picker.children('div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).css('display','block');this.updateNavArrows();}};var DateRangePicker=function(element,options){this.element=$(element);this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i;});delete options.inputs;datepickerPlugin.call($(this.inputs),options).bind('changeDate',$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data('datepicker');});this.updateDates();};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate();});this.updateRanges();},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf();});$.each(this.pickers,function(i,p){p.setRange(range);});},dateUpdated:function(e){if(this.updating)\u000areturn;this.updating=true;var dp=$(e.target).data('datepicker'),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),j=i-1,k=i+1,l=this.inputs.length;if(i===-1)\u000areturn;$.each(this.pickers,function(i,p){if(!p.getUTCDate())\u000ap.setUTCDate(new_date);});if(new_date<this.dates[j]){while(j>=0&&new_date<this.dates[j]){this.pickers[j--].setUTCDate(new_date);}}\u000aelse if(new_date>this.dates[k]){while(k<l&&new_date>this.dates[k]){this.pickers[k++].setUTCDate(new_date);}}\u000athis.updateDates();delete this.updating;},remove:function(){$.map(this.pickers,function(p){p.remove();});delete this.element.data().datepicker;}};function opts_from_el(el,prefix){var data=$(el).data(),out={},inkey,replace=new RegExp('^'+prefix.toLowerCase()+'([A-Z])');prefix=new RegExp('^'+prefix.toLowerCase());function re_lower(_,a){return a.toLowerCase();}\u000afor(var key in data)\u000aif(prefix.test(key)){inkey=key.replace(replace,re_lower);out[inkey]=data[key];}\u000areturn out;}\u000afunction opts_from_locale(lang){var out={};if(!dates[lang]){lang=lang.split('-')[0];if(!dates[lang])\u000areturn;}\u000avar d=dates[lang];$.each(locale_opts,function(i,k){if(k in d)\u000aout[k]=d[k];});return out;}\u000avar old=$.fn.datepicker;var datepickerPlugin=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data('datepicker'),options=typeof option==='object'&&option;if(!data){var elopts=opts_from_el(this,'date'),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.hasClass('input-daterange')||opts.inputs){var ropts={inputs:opts.inputs||$this.find('input').toArray()};$this.data('datepicker',(data=new DateRangePicker(this,$.extend(opts,ropts))));}\u000aelse{$this.data('datepicker',(data=new Datepicker(this,opts)));}}\u000aif(typeof option==='string'&&typeof data[option]==='function'){internal_return=data[option].apply(data,args);if(internal_return!==undefined)\u000areturn false;}});if(internal_return!==undefined)\u000areturn internal_return;else\u000areturn this;};$.fn.datepicker=datepickerPlugin;var defaults=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,beforeShowMonth:$.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],datesDisabled:[],endDate:Infinity,forceParse:true,format:'mm/dd/yyyy',keyboardNavigation:true,language:'en',minViewMode:0,multidate:false,multidateSeparator:',',orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0,disableTouchKeyboard:false,enableOnReadonly:true,container:'body'};var locale_opts=$.fn.datepicker.locale_opts=['format','rtl','weekStart'];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var DPGlobal={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0));},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month];},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\u005c/:-@\u005c[\u005cu3400-\u005cu9fff-`{-~\u005ct\u005cn\u005cr]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,'\u005c0').split('\u005c0'),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||parts.length===0){throw new Error("Invalid date format.");}\u000areturn{separators:separators,parts:parts};},parseDate:function(date,format,language){if(!date)\u000areturn undefined;if(date instanceof Date)\u000areturn date;if(typeof format==='string')\u000aformat=DPGlobal.parseFormat(format);var part_re=/([\u005c-+]\u005cd+)([dmwy])/,parts=date.match(/([\u005c-+]\u005cd+)([dmwy])/g),part,dir,i;if(/^[\u005c-+]\u005cd+[dmwy]([\u005cs,]+[\u005c-+]\u005cd+[dmwy])*$/.test(date)){date=new Date();for(i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case'd':date.setUTCDate(date.getUTCDate()+dir);break;case'm':date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case'w':date.setUTCDate(date.getUTCDate()+dir*7);break;case'y':date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir);break;}}\u000areturn UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0);}\u000aparts=date&&date.match(this.nonpunctuation)||[];date=new Date();var parsed={},setters_order=['yyyy','yy','M','MM','m','mm','d','dd'],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v);},yy:function(d,v){return d.setUTCFullYear(2000+v);},m:function(d,v){if(isNaN(d))\u000areturn d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)\u000ad.setUTCDate(d.getUTCDate()-1);return d;},d:function(d,v){return d.setUTCDate(v);}},val,filtered;setters_map['M']=setters_map['MM']=setters_map['mm']=setters_map['m'];setters_map['dd']=setters_map['d'];date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!==fparts.length){fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1;}).toArray();}\u000afunction match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase();}\u000aif(parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){val=parseInt(parts[i],10);part=fparts[i];if(isNaN(val)){switch(part){case'MM':filtered=$(dates[language].months).filter(match_part);val=$.inArray(filtered[0],dates[language].months)+1;break;case'M':filtered=$(dates[language].monthsShort).filter(match_part);val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;}}\u000aparsed[part]=val;}\u000avar _date,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){_date=new Date(date);setters_map[s](_date,parsed[s]);if(!isNaN(_date))\u000adate=_date;}}}\u000areturn date;},formatDate:function(date,format,language){if(!date)\u000areturn'';if(typeof format==='string')\u000aformat=DPGlobal.parseFormat(format);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?'0':'')+val.d;val.mm=(val.m<10?'0':'')+val.m;date=[];var seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<=cnt;i++){if(seps.length)\u000adate.push(seps.shift());date.push(val[format.parts[i]]);}\u000areturn date.join('');},headTemplate:'<thead>'+'<tr>'+'<th class="prev">&#171;</th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">&#187;</th>'+'</tr>'+'</thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot>'+'<tr>'+'<th colspan="7" class="today"></th>'+'</tr>'+'<tr>'+'<th colspan="7" class="clear"></th>'+'</tr>'+'</tfoot>'};DPGlobal.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+\u000aDPGlobal.headTemplate+'<tbody></tbody>'+\u000aDPGlobal.footTemplate+'</table>'+'</div>'+'<div class="datepicker-months">'+'<table class="table-condensed">'+\u000aDPGlobal.headTemplate+\u000aDPGlobal.contTemplate+\u000aDPGlobal.footTemplate+'</table>'+'</div>'+'<div class="datepicker-years">'+'<table class="table-condensed">'+\u000aDPGlobal.headTemplate+\u000aDPGlobal.contTemplate+\u000aDPGlobal.footTemplate+'</table>'+'</div>'+'</div>';$.fn.datepicker.DPGlobal=DPGlobal;$.fn.datepicker.noConflict=function(){$.fn.datepicker=old;return this;};$.fn.datepicker.version="1.4.0";$(document).on('focus.datepicker.data-api click.datepicker.data-api','[data-provide="datepicker"]',function(e){var $this=$(this);if($this.data('datepicker'))\u000areturn;e.preventDefault();datepickerPlugin.call($this,'show');});$(function(){datepickerPlugin.call($('[data-provide="datepicker-inline"]'));});}(window.jQuery));(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function(jQuery){var S2=(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd;}\u000avar S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={};}else{require=S2;}\u000avar requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\u005c.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}\u000afunction normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseParts.slice(0,baseParts.length-1);name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}\u000aname=baseParts.concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}\u000aname=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}\u000aif((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}\u000aif(foundMap){break;}\u000aif(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}\u000aif(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}\u000aif(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}\u000areturn name;}\u000afunction makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]));};}\u000afunction makeNormalize(relName){return function(name){return normalize(name,relName);};}\u000afunction makeLoad(depName){return function(value){defined[depName]=value;};}\u000afunction callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}\u000aif(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}\u000areturn defined[name];}\u000afunction splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}\u000areturn[prefix,name];}\u000amakeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}\u000aif(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}\u000areturn{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}\u000ahandlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}\u000aret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}\u000areturn callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}\u000aif(!callback){return;}\u000aif(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}\u000acallback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}\u000aif(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}\u000areturn req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(!deps.splice){callback=deps;deps=[];}\u000aif(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());S2.requirejs=requirejs;S2.require=require;S2.define=define;}}());S2.define("almond",function(){});S2.define('jquery',[],function(){var _$=jQuery||$;if(_$==null&&console&&console.error){console.error('Select2: An instance of jQuery or a jQuery-compatible library was not '+'found. Make sure that you are including jQuery before Select2 on your '+'web page.');}\u000areturn _$;});S2.define('select2/utils',['jquery'],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var __hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass;}\u000afor(var key in SuperClass){if(__hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key];}}\u000aBaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor();ChildClass.__super__=SuperClass.prototype;return ChildClass;};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=='function'){continue;}\u000aif(methodName==='constructor'){continue;}\u000amethods.push(methodName);}\u000areturn methods;}\u000aUtils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor;}\u000acalledConstructor.apply(this,arguments);}\u000aDecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass;}\u000aDecoratedClass.prototype=new ctr();for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod];}\u000avar calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName];}\u000avar decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments);};};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod);}\u000areturn DecoratedClass;};var Observable=function(){this.listeners={};};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback);}else{this.listeners[event]=[callback];}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;this.listeners=this.listeners||{};if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1));}\u000aif('*'in this.listeners){this.invoke(this.listeners['*'],arguments);}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params);}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars='';for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()*36);chars+=randomChar.toString(36);}\u000areturn chars;};Utils.bind=function(func,context){return function(){func.apply(context,arguments);};};Utils._convertData=function(data){for(var originalKey in data){var keys=originalKey.split('-');var dataLevel=data;if(keys.length===1){continue;}\u000afor(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={};}\u000aif(k==keys.length-1){dataLevel[key]=data[originalKey];}\u000adataLevel=dataLevel[key];}\u000adelete data[originalKey];}\u000areturn data;};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==='hidden'||overflowY==='visible')){return false;}\u000aif(overflowX==='scroll'||overflowY==='scroll'){return true;}\u000areturn($el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth);};Utils.escapeMarkup=function(markup){var replaceMap={'\u005c\u005c':'&#92;','&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\u005c'':'&#39;','/':'&#47;'};if(typeof markup!=='string'){return markup;}\u000areturn String(markup).replace(/[&<>"'\u005c/\u005c\u005c]/g,function(match){return replaceMap[match];});};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==='1.7'){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node);});$nodes=$jqNodes;}\u000a$element.append($nodes);};return Utils;});S2.define('select2/results',['jquery','./utils'],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.__super__.constructor.call(this);}\u000aUtils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get('multiple')){$results.attr('aria-multiselectable','true');}\u000athis.$results=$results;return $results;};Results.prototype.clear=function(){this.$results.empty();};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get('escapeMarkup');this.clear();this.hideLoading();var $message=$('<li role="treeitem" class="select2-results__option"></li>');var message=this.options.get('translations').get(params.message);$message.append(escapeMarkup(message(params.args)));this.$results.append($message);};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger('results:message',{message:'noResults'});}\u000areturn;}\u000adata.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option);}\u000athis.$results.append($options);};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find('.select2-results');$resultsContainer.append($results);};Results.prototype.sort=function(data){var sorter=this.options.get('sorter');return sorter(data);};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString();});var $options=self.$results.find('.select2-results__option[aria-selected]');$options.each(function(){var $option=$(this);var item=$.data(this,'data');var id=''+item.id;if((item.element!=null&&item.element.selected)||(item.element==null&&$.inArray(id,selectedIds)>-1)){$option.attr('aria-selected','true');}else{$option.attr('aria-selected','false');}});var $selected=$options.filter('[aria-selected=true]');if($selected.length>0){$selected.first().trigger('mouseenter');}else{$options.first().trigger('mouseenter');}});};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get('translations').get('searching');var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=' loading-results';this.$results.prepend($loading);};Results.prototype.hideLoading=function(){this.$results.find('.loading-results').remove();};Results.prototype.option=function(data){var option=document.createElement('li');option.className='select2-results__option';var attrs={'role':'treeitem','aria-selected':'false'};if(data.disabled){delete attrs['aria-selected'];attrs['aria-disabled']='true';}\u000aif(data.id==null){delete attrs['aria-selected'];}\u000aif(data._resultId!=null){option.id=data._resultId;}\u000aif(data.title){option.title=data.title;}\u000aif(data.children){attrs.role='group';attrs['aria-label']=data.text;delete attrs['aria-selected'];}\u000afor(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val);}\u000aif(data.children){var $option=$(option);var label=document.createElement('strong');label.className='select2-results__group';var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child);}\u000avar $childrenContainer=$('<ul></ul>',{'class':'select2-results__options select2-results__options--nested'});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer);}else{this.template(data,option);}\u000a$.data(option,'data',data);return option;};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+'-results';this.$results.attr('id',id);container.on('results:all',function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();}});container.on('results:append',function(params){self.append(params.data);if(container.isOpen()){self.setClasses();}});container.on('query',function(params){self.showLoading(params);});container.on('select',function(){if(!container.isOpen()){return;}\u000aself.setClasses();});container.on('unselect',function(){if(!container.isOpen()){return;}\u000aself.setClasses();});container.on('open',function(){self.$results.attr('aria-expanded','true');self.$results.attr('aria-hidden','false');self.setClasses();self.ensureHighlightVisible();});container.on('close',function(){self.$results.attr('aria-expanded','false');self.$results.attr('aria-hidden','true');self.$results.removeAttr('aria-activedescendant');});container.on('results:toggle',function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return;}\u000a$highlighted.trigger('mouseup');});container.on('results:select',function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return;}\u000avar data=$highlighted.data('data');if($highlighted.attr('aria-selected')=='true'){self.trigger('close');}else{self.trigger('select',{data:data});}});container.on('results:previous',function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);if(currentIndex===0){return;}\u000avar nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0;}\u000avar $next=$options.eq(nextIndex);$next.trigger('mouseenter');var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0);}else if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset);}});container.on('results:next',function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return;}\u000avar $next=$options.eq(nextIndex);$next.trigger('mouseenter');var currentOffset=self.$results.offset().top+\u000aself.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0);}else if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset);}});container.on('results:focus',function(params){params.element.addClass('select2-results__option--highlighted');});container.on('results:message',function(params){self.displayMessage(params);});if($.fn.mousewheel){this.$results.on('mousewheel',function(e){var top=self.$results.scrollTop();var bottom=(self.$results.get(0).scrollHeight-\u000aself.$results.scrollTop()+\u000ae.deltaY);var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation();}else if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation();}});}\u000athis.$results.on('mouseup','.select2-results__option[aria-selected]',function(evt){var $this=$(this);var data=$this.data('data');if($this.attr('aria-selected')==='true'){if(self.options.get('multiple')){self.trigger('unselect',{originalEvent:evt,data:data});}else{self.trigger('close');}\u000areturn;}\u000aself.trigger('select',{originalEvent:evt,data:data});});this.$results.on('mouseenter','.select2-results__option[aria-selected]',function(evt){var data=$(this).data('data');self.getHighlightedResults().removeClass('select2-results__option--highlighted');self.trigger('results:focus',{data:data,element:$(this)});});};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find('.select2-results__option--highlighted');return $highlighted;};Results.prototype.destroy=function(){this.$results.remove();};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return;}\u000avar $options=this.$results.find('[aria-selected]');var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)*2;if(currentIndex<=2){this.$results.scrollTop(0);}else if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset);}};Results.prototype.template=function(result,container){var template=this.options.get('templateResult');var escapeMarkup=this.options.get('escapeMarkup');var content=template(result);if(content==null){container.style.display='none';}else if(typeof content==='string'){container.innerHTML=escapeMarkup(content);}else{$(container).append(content);}};return Results;});S2.define('select2/keys',[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS;});S2.define('select2/selection/base',['jquery','../utils','../keys'],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.__super__.constructor.call(this);}\u000aUtils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox" '+'aria-autocomplete="list" aria-haspopup="true" aria-expanded="false">'+'</span>');this._tabindex=0;if(this.$element.data('old-tabindex')!=null){this._tabindex=this.$element.data('old-tabindex');}else if(this.$element.attr('tabindex')!=null){this._tabindex=this.$element.attr('tabindex');}\u000a$selection.attr('title',this.$element.attr('title'));$selection.attr('tabindex',this._tabindex);this.$selection=$selection;return $selection;};BaseSelection.prototype.bind=function(container,$container){var self=this;var id=container.id+'-container';var resultsId=container.id+'-results';this.container=container;this.$selection.on('focus',function(evt){self.trigger('focus',evt);});this.$selection.on('blur',function(evt){self.trigger('blur',evt);});this.$selection.on('keydown',function(evt){self.trigger('keypress',evt);if(evt.which===KEYS.SPACE){evt.preventDefault();}});container.on('results:focus',function(params){self.$selection.attr('aria-activedescendant',params.data._resultId);});container.on('selection:update',function(params){self.update(params.data);});container.on('open',function(){self.$selection.attr('aria-expanded','true');self.$selection.attr('aria-owns',resultsId);self._attachCloseHandler(container);});container.on('close',function(){self.$selection.attr('aria-expanded','false');self.$selection.removeAttr('aria-activedescendant');self.$selection.removeAttr('aria-owns');self.$selection.focus();self._detachCloseHandler(container);});container.on('enable',function(){self.$selection.attr('tabindex',self._tabindex);});container.on('disable',function(){self.$selection.attr('tabindex','-1');});};BaseSelection.prototype._attachCloseHandler=function(container){var self=this;$(document.body).on('mousedown.select2.'+container.id,function(e){var $target=$(e.target);var $select=$target.closest('.select2');var $all=$('.select2.select2-container--open');$all.each(function(){var $this=$(this);if(this==$select[0]){return;}\u000avar $element=$this.data('element');$element.select2('close');});});};BaseSelection.prototype._detachCloseHandler=function(container){$(document.body).off('mousedown.select2.'+container.id);};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find('.selection');$selectionContainer.append($selection);};BaseSelection.prototype.destroy=function(){this._detachCloseHandler(this.container);};BaseSelection.prototype.update=function(data){throw new Error('The `update` method must be defined in child classes.');};return BaseSelection;});S2.define('select2/selection/single',['jquery','./base','../utils','../keys'],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.__super__.constructor.apply(this,arguments);}\u000aUtils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.__super__.render.call(this);$selection.addClass('select2-selection--single');$selection.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+'</span>');return $selection;};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.__super__.bind.apply(this,arguments);var id=container.id+'-container';this.$selection.find('.select2-selection__rendered').attr('id',id);this.$selection.attr('aria-labelledby',id);this.$selection.on('mousedown',function(evt){if(evt.which!==1){return;}\u000aself.trigger('toggle',{originalEvent:evt});});this.$selection.on('focus',function(evt){});this.$selection.on('blur',function(evt){});container.on('selection:update',function(params){self.update(params.data);});};SingleSelection.prototype.clear=function(){this.$selection.find('.select2-selection__rendered').empty();};SingleSelection.prototype.display=function(data){var template=this.options.get('templateSelection');var escapeMarkup=this.options.get('escapeMarkup');return escapeMarkup(template(data));};SingleSelection.prototype.selectionContainer=function(){return $('<span></span>');};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return;}\u000avar selection=data[0];var formatted=this.display(selection);var $rendered=this.$selection.find('.select2-selection__rendered');$rendered.empty().append(formatted);$rendered.prop('title',selection.title||selection.text);};return SingleSelection;});S2.define('select2/selection/multiple',['jquery','./base','../utils'],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.__super__.constructor.apply(this,arguments);}\u000aUtils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.__super__.render.call(this);$selection.addClass('select2-selection--multiple');$selection.html('<ul class="select2-selection__rendered"></ul>');return $selection;};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.__super__.bind.apply(this,arguments);this.$selection.on('click',function(evt){self.trigger('toggle',{originalEvent:evt});});this.$selection.on('click','.select2-selection__choice__remove',function(evt){var $remove=$(this);var $selection=$remove.parent();var data=$selection.data('data');self.trigger('unselect',{originalEvent:evt,data:data});});};MultipleSelection.prototype.clear=function(){this.$selection.find('.select2-selection__rendered').empty();};MultipleSelection.prototype.display=function(data){var template=this.options.get('templateSelection');var escapeMarkup=this.options.get('escapeMarkup');return escapeMarkup(template(data));};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+'&times;'+'</span>'+'</li>');return $container;};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return;}\u000avar $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var formatted=this.display(selection);var $selection=this.selectionContainer();$selection.append(formatted);$selection.prop('title',selection.title||selection.text);$selection.data('data',selection);$selections.push($selection);}\u000avar $rendered=this.$selection.find('.select2-selection__rendered');Utils.appendMany($rendered,$selections);};return MultipleSelection;});S2.define('select2/selection/placeholder',['../utils'],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get('placeholder'));decorated.call(this,$element,options);}\u000aPlaceholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==='string'){placeholder={id:'',text:placeholder};}\u000areturn placeholder;};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass('select2-selection__placeholder').removeClass('select2-selection__choice');return $placeholder;};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=(data.length==1&&data[0].id!=this.placeholder.id);var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data);}\u000athis.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find('.select2-selection__rendered').append($placeholder);};return Placeholder;});S2.define('select2/selection/allowClear',['jquery','../keys'],function($,KEYS){function AllowClear(){}\u000aAllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get('debug')&&window.console&&console.error){console.error('Select2: The `allowClear` option should be used in combination '+'with the `placeholder` option.');}}\u000athis.$selection.on('mousedown','.select2-selection__clear',function(evt){self._handleClear(evt);});container.on('keypress',function(evt){self._handleKeyboardClear(evt,container);});};AllowClear.prototype._handleClear=function(_,evt){if(this.options.get('disabled')){return;}\u000avar $clear=this.$selection.find('.select2-selection__clear');if($clear.length===0){return;}\u000aevt.stopPropagation();var data=$clear.data('data');for(var d=0;d<data.length;d++){var unselectData={data:data[d]};this.trigger('unselect',unselectData);if(unselectData.prevented){return;}}\u000athis.$element.val(this.placeholder.id).trigger('change');this.trigger('toggle');};AllowClear.prototype._handleKeyboardClear=function(_,evt,container){if(container.isOpen()){return;}\u000aif(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this._handleClear(evt);}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find('.select2-selection__placeholder').length>0||data.length===0){return;}\u000avar $remove=$('<span class="select2-selection__clear">'+'&times;'+'</span>');$remove.data('data',data);this.$selection.find('.select2-selection__rendered').prepend($remove);};return AllowClear;});S2.define('select2/selection/search',['jquery','../utils','../keys'],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options);}\u000aSearch.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+'</li>');this.$searchContainer=$search;this.$search=$search.find('input');var $rendered=decorated.call(this);return $rendered;};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('open',function(){self.$search.attr('tabindex',0);self.$search.focus();});container.on('close',function(){self.$search.attr('tabindex',-1);self.$search.val('');self.$search.focus();});container.on('enable',function(){self.$search.prop('disabled',false);});container.on('disable',function(){self.$search.prop('disabled',true);});this.$selection.on('focusin','.select2-search--inline',function(evt){self.trigger('focus',evt);});this.$selection.on('focusout','.select2-search--inline',function(evt){self.trigger('blur',evt);});this.$selection.on('keydown','.select2-search--inline',function(evt){evt.stopPropagation();self.trigger('keypress',evt);self._keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===''){var $previousChoice=self.$searchContainer.prev('.select2-selection__choice');if($previousChoice.length>0){var item=$previousChoice.data('data');self.searchRemoveChoice(item);evt.preventDefault();}}});this.$selection.on('input','.select2-search--inline',function(evt){self.$selection.off('keyup.search');});this.$selection.on('keyup.search input','.select2-search--inline',function(evt){self.handleSearch(evt);});};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr('placeholder',placeholder.text);};Search.prototype.update=function(decorated,data){this.$search.attr('placeholder','');decorated.call(this,data);this.$selection.find('.select2-selection__rendered').append(this.$searchContainer);this.resizeSearch();};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var input=this.$search.val();this.trigger('query',{term:input});}\u000athis._keyUpPrevented=false;};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger('unselect',{data:item});this.trigger('open');this.$search.val(item.text+' ');};Search.prototype.resizeSearch=function(){this.$search.css('width','25px');var width='';if(this.$search.attr('placeholder')!==''){width=this.$selection.find('.select2-selection__rendered').innerWidth();}else{var minimumWidth=this.$search.val().length+1;width=(minimumWidth*0.75)+'em';}\u000athis.$search.css('width',width);};return Search;});S2.define('select2/selection/eventRelay',['jquery'],function($){function EventRelay(){}\u000aEventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=['open','opening','close','closing','select','selecting','unselect','unselecting'];var preventableEvents=['opening','closing','selecting','unselecting'];decorated.call(this,container,$container);container.on('*',function(name,params){if($.inArray(name,relayEvents)===-1){return;}\u000aparams=params||{};var evt=$.Event('select2:'+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return;}\u000aparams.prevented=evt.isDefaultPrevented();});};return EventRelay;});S2.define('select2/translation',['jquery','require'],function($,require){function Translation(dict){this.dict=dict||{};}\u000aTranslation.prototype.all=function(){return this.dict;};Translation.prototype.get=function(key){return this.dict[key];};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict);};Translation._cache={};Translation.loadPath=function(path){if(!(path in Translation._cache)){var translations=require(path);Translation._cache[path]=translations;}\u000areturn new Translation(Translation._cache[path]);};return Translation;});S2.define('select2/diacritics',[],function(){var diacritics={'\u005cu24B6':'A','\u005cuFF21':'A','\u005cu00C0':'A','\u005cu00C1':'A','\u005cu00C2':'A','\u005cu1EA6':'A','\u005cu1EA4':'A','\u005cu1EAA':'A','\u005cu1EA8':'A','\u005cu00C3':'A','\u005cu0100':'A','\u005cu0102':'A','\u005cu1EB0':'A','\u005cu1EAE':'A','\u005cu1EB4':'A','\u005cu1EB2':'A','\u005cu0226':'A','\u005cu01E0':'A','\u005cu00C4':'A','\u005cu01DE':'A','\u005cu1EA2':'A','\u005cu00C5':'A','\u005cu01FA':'A','\u005cu01CD':'A','\u005cu0200':'A','\u005cu0202':'A','\u005cu1EA0':'A','\u005cu1EAC':'A','\u005cu1EB6':'A','\u005cu1E00':'A','\u005cu0104':'A','\u005cu023A':'A','\u005cu2C6F':'A','\u005cuA732':'AA','\u005cu00C6':'AE','\u005cu01FC':'AE','\u005cu01E2':'AE','\u005cuA734':'AO','\u005cuA736':'AU','\u005cuA738':'AV','\u005cuA73A':'AV','\u005cuA73C':'AY','\u005cu24B7':'B','\u005cuFF22':'B','\u005cu1E02':'B','\u005cu1E04':'B','\u005cu1E06':'B','\u005cu0243':'B','\u005cu0182':'B','\u005cu0181':'B','\u005cu24B8':'C','\u005cuFF23':'C','\u005cu0106':'C','\u005cu0108':'C','\u005cu010A':'C','\u005cu010C':'C','\u005cu00C7':'C','\u005cu1E08':'C','\u005cu0187':'C','\u005cu023B':'C','\u005cuA73E':'C','\u005cu24B9':'D','\u005cuFF24':'D','\u005cu1E0A':'D','\u005cu010E':'D','\u005cu1E0C':'D','\u005cu1E10':'D','\u005cu1E12':'D','\u005cu1E0E':'D','\u005cu0110':'D','\u005cu018B':'D','\u005cu018A':'D','\u005cu0189':'D','\u005cuA779':'D','\u005cu01F1':'DZ','\u005cu01C4':'DZ','\u005cu01F2':'Dz','\u005cu01C5':'Dz','\u005cu24BA':'E','\u005cuFF25':'E','\u005cu00C8':'E','\u005cu00C9':'E','\u005cu00CA':'E','\u005cu1EC0':'E','\u005cu1EBE':'E','\u005cu1EC4':'E','\u005cu1EC2':'E','\u005cu1EBC':'E','\u005cu0112':'E','\u005cu1E14':'E','\u005cu1E16':'E','\u005cu0114':'E','\u005cu0116':'E','\u005cu00CB':'E','\u005cu1EBA':'E','\u005cu011A':'E','\u005cu0204':'E','\u005cu0206':'E','\u005cu1EB8':'E','\u005cu1EC6':'E','\u005cu0228':'E','\u005cu1E1C':'E','\u005cu0118':'E','\u005cu1E18':'E','\u005cu1E1A':'E','\u005cu0190':'E','\u005cu018E':'E','\u005cu24BB':'F','\u005cuFF26':'F','\u005cu1E1E':'F','\u005cu0191':'F','\u005cuA77B':'F','\u005cu24BC':'G','\u005cuFF27':'G','\u005cu01F4':'G','\u005cu011C':'G','\u005cu1E20':'G','\u005cu011E':'G','\u005cu0120':'G','\u005cu01E6':'G','\u005cu0122':'G','\u005cu01E4':'G','\u005cu0193':'G','\u005cuA7A0':'G','\u005cuA77D':'G','\u005cuA77E':'G','\u005cu24BD':'H','\u005cuFF28':'H','\u005cu0124':'H','\u005cu1E22':'H','\u005cu1E26':'H','\u005cu021E':'H','\u005cu1E24':'H','\u005cu1E28':'H','\u005cu1E2A':'H','\u005cu0126':'H','\u005cu2C67':'H','\u005cu2C75':'H','\u005cuA78D':'H','\u005cu24BE':'I','\u005cuFF29':'I','\u005cu00CC':'I','\u005cu00CD':'I','\u005cu00CE':'I','\u005cu0128':'I','\u005cu012A':'I','\u005cu012C':'I','\u005cu0130':'I','\u005cu00CF':'I','\u005cu1E2E':'I','\u005cu1EC8':'I','\u005cu01CF':'I','\u005cu0208':'I','\u005cu020A':'I','\u005cu1ECA':'I','\u005cu012E':'I','\u005cu1E2C':'I','\u005cu0197':'I','\u005cu24BF':'J','\u005cuFF2A':'J','\u005cu0134':'J','\u005cu0248':'J','\u005cu24C0':'K','\u005cuFF2B':'K','\u005cu1E30':'K','\u005cu01E8':'K','\u005cu1E32':'K','\u005cu0136':'K','\u005cu1E34':'K','\u005cu0198':'K','\u005cu2C69':'K','\u005cuA740':'K','\u005cuA742':'K','\u005cuA744':'K','\u005cuA7A2':'K','\u005cu24C1':'L','\u005cuFF2C':'L','\u005cu013F':'L','\u005cu0139':'L','\u005cu013D':'L','\u005cu1E36':'L','\u005cu1E38':'L','\u005cu013B':'L','\u005cu1E3C':'L','\u005cu1E3A':'L','\u005cu0141':'L','\u005cu023D':'L','\u005cu2C62':'L','\u005cu2C60':'L','\u005cuA748':'L','\u005cuA746':'L','\u005cuA780':'L','\u005cu01C7':'LJ','\u005cu01C8':'Lj','\u005cu24C2':'M','\u005cuFF2D':'M','\u005cu1E3E':'M','\u005cu1E40':'M','\u005cu1E42':'M','\u005cu2C6E':'M','\u005cu019C':'M','\u005cu24C3':'N','\u005cuFF2E':'N','\u005cu01F8':'N','\u005cu0143':'N','\u005cu00D1':'N','\u005cu1E44':'N','\u005cu0147':'N','\u005cu1E46':'N','\u005cu0145':'N','\u005cu1E4A':'N','\u005cu1E48':'N','\u005cu0220':'N','\u005cu019D':'N','\u005cuA790':'N','\u005cuA7A4':'N','\u005cu01CA':'NJ','\u005cu01CB':'Nj','\u005cu24C4':'O','\u005cuFF2F':'O','\u005cu00D2':'O','\u005cu00D3':'O','\u005cu00D4':'O','\u005cu1ED2':'O','\u005cu1ED0':'O','\u005cu1ED6':'O','\u005cu1ED4':'O','\u005cu00D5':'O','\u005cu1E4C':'O','\u005cu022C':'O','\u005cu1E4E':'O','\u005cu014C':'O','\u005cu1E50':'O','\u005cu1E52':'O','\u005cu014E':'O','\u005cu022E':'O','\u005cu0230':'O','\u005cu00D6':'O','\u005cu022A':'O','\u005cu1ECE':'O','\u005cu0150':'O','\u005cu01D1':'O','\u005cu020C':'O','\u005cu020E':'O','\u005cu01A0':'O','\u005cu1EDC':'O','\u005cu1EDA':'O','\u005cu1EE0':'O','\u005cu1EDE':'O','\u005cu1EE2':'O','\u005cu1ECC':'O','\u005cu1ED8':'O','\u005cu01EA':'O','\u005cu01EC':'O','\u005cu00D8':'O','\u005cu01FE':'O','\u005cu0186':'O','\u005cu019F':'O','\u005cuA74A':'O','\u005cuA74C':'O','\u005cu01A2':'OI','\u005cuA74E':'OO','\u005cu0222':'OU','\u005cu24C5':'P','\u005cuFF30':'P','\u005cu1E54':'P','\u005cu1E56':'P','\u005cu01A4':'P','\u005cu2C63':'P','\u005cuA750':'P','\u005cuA752':'P','\u005cuA754':'P','\u005cu24C6':'Q','\u005cuFF31':'Q','\u005cuA756':'Q','\u005cuA758':'Q','\u005cu024A':'Q','\u005cu24C7':'R','\u005cuFF32':'R','\u005cu0154':'R','\u005cu1E58':'R','\u005cu0158':'R','\u005cu0210':'R','\u005cu0212':'R','\u005cu1E5A':'R','\u005cu1E5C':'R','\u005cu0156':'R','\u005cu1E5E':'R','\u005cu024C':'R','\u005cu2C64':'R','\u005cuA75A':'R','\u005cuA7A6':'R','\u005cuA782':'R','\u005cu24C8':'S','\u005cuFF33':'S','\u005cu1E9E':'S','\u005cu015A':'S','\u005cu1E64':'S','\u005cu015C':'S','\u005cu1E60':'S','\u005cu0160':'S','\u005cu1E66':'S','\u005cu1E62':'S','\u005cu1E68':'S','\u005cu0218':'S','\u005cu015E':'S','\u005cu2C7E':'S','\u005cuA7A8':'S','\u005cuA784':'S','\u005cu24C9':'T','\u005cuFF34':'T','\u005cu1E6A':'T','\u005cu0164':'T','\u005cu1E6C':'T','\u005cu021A':'T','\u005cu0162':'T','\u005cu1E70':'T','\u005cu1E6E':'T','\u005cu0166':'T','\u005cu01AC':'T','\u005cu01AE':'T','\u005cu023E':'T','\u005cuA786':'T','\u005cuA728':'TZ','\u005cu24CA':'U','\u005cuFF35':'U','\u005cu00D9':'U','\u005cu00DA':'U','\u005cu00DB':'U','\u005cu0168':'U','\u005cu1E78':'U','\u005cu016A':'U','\u005cu1E7A':'U','\u005cu016C':'U','\u005cu00DC':'U','\u005cu01DB':'U','\u005cu01D7':'U','\u005cu01D5':'U','\u005cu01D9':'U','\u005cu1EE6':'U','\u005cu016E':'U','\u005cu0170':'U','\u005cu01D3':'U','\u005cu0214':'U','\u005cu0216':'U','\u005cu01AF':'U','\u005cu1EEA':'U','\u005cu1EE8':'U','\u005cu1EEE':'U','\u005cu1EEC':'U','\u005cu1EF0':'U','\u005cu1EE4':'U','\u005cu1E72':'U','\u005cu0172':'U','\u005cu1E76':'U','\u005cu1E74':'U','\u005cu0244':'U','\u005cu24CB':'V','\u005cuFF36':'V','\u005cu1E7C':'V','\u005cu1E7E':'V','\u005cu01B2':'V','\u005cuA75E':'V','\u005cu0245':'V','\u005cuA760':'VY','\u005cu24CC':'W','\u005cuFF37':'W','\u005cu1E80':'W','\u005cu1E82':'W','\u005cu0174':'W','\u005cu1E86':'W','\u005cu1E84':'W','\u005cu1E88':'W','\u005cu2C72':'W','\u005cu24CD':'X','\u005cuFF38':'X','\u005cu1E8A':'X','\u005cu1E8C':'X','\u005cu24CE':'Y','\u005cuFF39':'Y','\u005cu1EF2':'Y','\u005cu00DD':'Y','\u005cu0176':'Y','\u005cu1EF8':'Y','\u005cu0232':'Y','\u005cu1E8E':'Y','\u005cu0178':'Y','\u005cu1EF6':'Y','\u005cu1EF4':'Y','\u005cu01B3':'Y','\u005cu024E':'Y','\u005cu1EFE':'Y','\u005cu24CF':'Z','\u005cuFF3A':'Z','\u005cu0179':'Z','\u005cu1E90':'Z','\u005cu017B':'Z','\u005cu017D':'Z','\u005cu1E92':'Z','\u005cu1E94':'Z','\u005cu01B5':'Z','\u005cu0224':'Z','\u005cu2C7F':'Z','\u005cu2C6B':'Z','\u005cuA762':'Z','\u005cu24D0':'a','\u005cuFF41':'a','\u005cu1E9A':'a','\u005cu00E0':'a','\u005cu00E1':'a','\u005cu00E2':'a','\u005cu1EA7':'a','\u005cu1EA5':'a','\u005cu1EAB':'a','\u005cu1EA9':'a','\u005cu00E3':'a','\u005cu0101':'a','\u005cu0103':'a','\u005cu1EB1':'a','\u005cu1EAF':'a','\u005cu1EB5':'a','\u005cu1EB3':'a','\u005cu0227':'a','\u005cu01E1':'a','\u005cu00E4':'a','\u005cu01DF':'a','\u005cu1EA3':'a','\u005cu00E5':'a','\u005cu01FB':'a','\u005cu01CE':'a','\u005cu0201':'a','\u005cu0203':'a','\u005cu1EA1':'a','\u005cu1EAD':'a','\u005cu1EB7':'a','\u005cu1E01':'a','\u005cu0105':'a','\u005cu2C65':'a','\u005cu0250':'a','\u005cuA733':'aa','\u005cu00E6':'ae','\u005cu01FD':'ae','\u005cu01E3':'ae','\u005cuA735':'ao','\u005cuA737':'au','\u005cuA739':'av','\u005cuA73B':'av','\u005cuA73D':'ay','\u005cu24D1':'b','\u005cuFF42':'b','\u005cu1E03':'b','\u005cu1E05':'b','\u005cu1E07':'b','\u005cu0180':'b','\u005cu0183':'b','\u005cu0253':'b','\u005cu24D2':'c','\u005cuFF43':'c','\u005cu0107':'c','\u005cu0109':'c','\u005cu010B':'c','\u005cu010D':'c','\u005cu00E7':'c','\u005cu1E09':'c','\u005cu0188':'c','\u005cu023C':'c','\u005cuA73F':'c','\u005cu2184':'c','\u005cu24D3':'d','\u005cuFF44':'d','\u005cu1E0B':'d','\u005cu010F':'d','\u005cu1E0D':'d','\u005cu1E11':'d','\u005cu1E13':'d','\u005cu1E0F':'d','\u005cu0111':'d','\u005cu018C':'d','\u005cu0256':'d','\u005cu0257':'d','\u005cuA77A':'d','\u005cu01F3':'dz','\u005cu01C6':'dz','\u005cu24D4':'e','\u005cuFF45':'e','\u005cu00E8':'e','\u005cu00E9':'e','\u005cu00EA':'e','\u005cu1EC1':'e','\u005cu1EBF':'e','\u005cu1EC5':'e','\u005cu1EC3':'e','\u005cu1EBD':'e','\u005cu0113':'e','\u005cu1E15':'e','\u005cu1E17':'e','\u005cu0115':'e','\u005cu0117':'e','\u005cu00EB':'e','\u005cu1EBB':'e','\u005cu011B':'e','\u005cu0205':'e','\u005cu0207':'e','\u005cu1EB9':'e','\u005cu1EC7':'e','\u005cu0229':'e','\u005cu1E1D':'e','\u005cu0119':'e','\u005cu1E19':'e','\u005cu1E1B':'e','\u005cu0247':'e','\u005cu025B':'e','\u005cu01DD':'e','\u005cu24D5':'f','\u005cuFF46':'f','\u005cu1E1F':'f','\u005cu0192':'f','\u005cuA77C':'f','\u005cu24D6':'g','\u005cuFF47':'g','\u005cu01F5':'g','\u005cu011D':'g','\u005cu1E21':'g','\u005cu011F':'g','\u005cu0121':'g','\u005cu01E7':'g','\u005cu0123':'g','\u005cu01E5':'g','\u005cu0260':'g','\u005cuA7A1':'g','\u005cu1D79':'g','\u005cuA77F':'g','\u005cu24D7':'h','\u005cuFF48':'h','\u005cu0125':'h','\u005cu1E23':'h','\u005cu1E27':'h','\u005cu021F':'h','\u005cu1E25':'h','\u005cu1E29':'h','\u005cu1E2B':'h','\u005cu1E96':'h','\u005cu0127':'h','\u005cu2C68':'h','\u005cu2C76':'h','\u005cu0265':'h','\u005cu0195':'hv','\u005cu24D8':'i','\u005cuFF49':'i','\u005cu00EC':'i','\u005cu00ED':'i','\u005cu00EE':'i','\u005cu0129':'i','\u005cu012B':'i','\u005cu012D':'i','\u005cu00EF':'i','\u005cu1E2F':'i','\u005cu1EC9':'i','\u005cu01D0':'i','\u005cu0209':'i','\u005cu020B':'i','\u005cu1ECB':'i','\u005cu012F':'i','\u005cu1E2D':'i','\u005cu0268':'i','\u005cu0131':'i','\u005cu24D9':'j','\u005cuFF4A':'j','\u005cu0135':'j','\u005cu01F0':'j','\u005cu0249':'j','\u005cu24DA':'k','\u005cuFF4B':'k','\u005cu1E31':'k','\u005cu01E9':'k','\u005cu1E33':'k','\u005cu0137':'k','\u005cu1E35':'k','\u005cu0199':'k','\u005cu2C6A':'k','\u005cuA741':'k','\u005cuA743':'k','\u005cuA745':'k','\u005cuA7A3':'k','\u005cu24DB':'l','\u005cuFF4C':'l','\u005cu0140':'l','\u005cu013A':'l','\u005cu013E':'l','\u005cu1E37':'l','\u005cu1E39':'l','\u005cu013C':'l','\u005cu1E3D':'l','\u005cu1E3B':'l','\u005cu017F':'l','\u005cu0142':'l','\u005cu019A':'l','\u005cu026B':'l','\u005cu2C61':'l','\u005cuA749':'l','\u005cuA781':'l','\u005cuA747':'l','\u005cu01C9':'lj','\u005cu24DC':'m','\u005cuFF4D':'m','\u005cu1E3F':'m','\u005cu1E41':'m','\u005cu1E43':'m','\u005cu0271':'m','\u005cu026F':'m','\u005cu24DD':'n','\u005cuFF4E':'n','\u005cu01F9':'n','\u005cu0144':'n','\u005cu00F1':'n','\u005cu1E45':'n','\u005cu0148':'n','\u005cu1E47':'n','\u005cu0146':'n','\u005cu1E4B':'n','\u005cu1E49':'n','\u005cu019E':'n','\u005cu0272':'n','\u005cu0149':'n','\u005cuA791':'n','\u005cuA7A5':'n','\u005cu01CC':'nj','\u005cu24DE':'o','\u005cuFF4F':'o','\u005cu00F2':'o','\u005cu00F3':'o','\u005cu00F4':'o','\u005cu1ED3':'o','\u005cu1ED1':'o','\u005cu1ED7':'o','\u005cu1ED5':'o','\u005cu00F5':'o','\u005cu1E4D':'o','\u005cu022D':'o','\u005cu1E4F':'o','\u005cu014D':'o','\u005cu1E51':'o','\u005cu1E53':'o','\u005cu014F':'o','\u005cu022F':'o','\u005cu0231':'o','\u005cu00F6':'o','\u005cu022B':'o','\u005cu1ECF':'o','\u005cu0151':'o','\u005cu01D2':'o','\u005cu020D':'o','\u005cu020F':'o','\u005cu01A1':'o','\u005cu1EDD':'o','\u005cu1EDB':'o','\u005cu1EE1':'o','\u005cu1EDF':'o','\u005cu1EE3':'o','\u005cu1ECD':'o','\u005cu1ED9':'o','\u005cu01EB':'o','\u005cu01ED':'o','\u005cu00F8':'o','\u005cu01FF':'o','\u005cu0254':'o','\u005cuA74B':'o','\u005cuA74D':'o','\u005cu0275':'o','\u005cu01A3':'oi','\u005cu0223':'ou','\u005cuA74F':'oo','\u005cu24DF':'p','\u005cuFF50':'p','\u005cu1E55':'p','\u005cu1E57':'p','\u005cu01A5':'p','\u005cu1D7D':'p','\u005cuA751':'p','\u005cuA753':'p','\u005cuA755':'p','\u005cu24E0':'q','\u005cuFF51':'q','\u005cu024B':'q','\u005cuA757':'q','\u005cuA759':'q','\u005cu24E1':'r','\u005cuFF52':'r','\u005cu0155':'r','\u005cu1E59':'r','\u005cu0159':'r','\u005cu0211':'r','\u005cu0213':'r','\u005cu1E5B':'r','\u005cu1E5D':'r','\u005cu0157':'r','\u005cu1E5F':'r','\u005cu024D':'r','\u005cu027D':'r','\u005cuA75B':'r','\u005cuA7A7':'r','\u005cuA783':'r','\u005cu24E2':'s','\u005cuFF53':'s','\u005cu00DF':'s','\u005cu015B':'s','\u005cu1E65':'s','\u005cu015D':'s','\u005cu1E61':'s','\u005cu0161':'s','\u005cu1E67':'s','\u005cu1E63':'s','\u005cu1E69':'s','\u005cu0219':'s','\u005cu015F':'s','\u005cu023F':'s','\u005cuA7A9':'s','\u005cuA785':'s','\u005cu1E9B':'s','\u005cu24E3':'t','\u005cuFF54':'t','\u005cu1E6B':'t','\u005cu1E97':'t','\u005cu0165':'t','\u005cu1E6D':'t','\u005cu021B':'t','\u005cu0163':'t','\u005cu1E71':'t','\u005cu1E6F':'t','\u005cu0167':'t','\u005cu01AD':'t','\u005cu0288':'t','\u005cu2C66':'t','\u005cuA787':'t','\u005cuA729':'tz','\u005cu24E4':'u','\u005cuFF55':'u','\u005cu00F9':'u','\u005cu00FA':'u','\u005cu00FB':'u','\u005cu0169':'u','\u005cu1E79':'u','\u005cu016B':'u','\u005cu1E7B':'u','\u005cu016D':'u','\u005cu00FC':'u','\u005cu01DC':'u','\u005cu01D8':'u','\u005cu01D6':'u','\u005cu01DA':'u','\u005cu1EE7':'u','\u005cu016F':'u','\u005cu0171':'u','\u005cu01D4':'u','\u005cu0215':'u','\u005cu0217':'u','\u005cu01B0':'u','\u005cu1EEB':'u','\u005cu1EE9':'u','\u005cu1EEF':'u','\u005cu1EED':'u','\u005cu1EF1':'u','\u005cu1EE5':'u','\u005cu1E73':'u','\u005cu0173':'u','\u005cu1E77':'u','\u005cu1E75':'u','\u005cu0289':'u','\u005cu24E5':'v','\u005cuFF56':'v','\u005cu1E7D':'v','\u005cu1E7F':'v','\u005cu028B':'v','\u005cuA75F':'v','\u005cu028C':'v','\u005cuA761':'vy','\u005cu24E6':'w','\u005cuFF57':'w','\u005cu1E81':'w','\u005cu1E83':'w','\u005cu0175':'w','\u005cu1E87':'w','\u005cu1E85':'w','\u005cu1E98':'w','\u005cu1E89':'w','\u005cu2C73':'w','\u005cu24E7':'x','\u005cuFF58':'x','\u005cu1E8B':'x','\u005cu1E8D':'x','\u005cu24E8':'y','\u005cuFF59':'y','\u005cu1EF3':'y','\u005cu00FD':'y','\u005cu0177':'y','\u005cu1EF9':'y','\u005cu0233':'y','\u005cu1E8F':'y','\u005cu00FF':'y','\u005cu1EF7':'y','\u005cu1E99':'y','\u005cu1EF5':'y','\u005cu01B4':'y','\u005cu024F':'y','\u005cu1EFF':'y','\u005cu24E9':'z','\u005cuFF5A':'z','\u005cu017A':'z','\u005cu1E91':'z','\u005cu017C':'z','\u005cu017E':'z','\u005cu1E93':'z','\u005cu1E95':'z','\u005cu01B6':'z','\u005cu0225':'z','\u005cu0240':'z','\u005cu2C6C':'z','\u005cuA763':'z','\u005cu0386':'\u005cu0391','\u005cu0388':'\u005cu0395','\u005cu0389':'\u005cu0397','\u005cu038A':'\u005cu0399','\u005cu03AA':'\u005cu0399','\u005cu038C':'\u005cu039F','\u005cu038E':'\u005cu03A5','\u005cu03AB':'\u005cu03A5','\u005cu038F':'\u005cu03A9','\u005cu03AC':'\u005cu03B1','\u005cu03AD':'\u005cu03B5','\u005cu03AE':'\u005cu03B7','\u005cu03AF':'\u005cu03B9','\u005cu03CA':'\u005cu03B9','\u005cu0390':'\u005cu03B9','\u005cu03CC':'\u005cu03BF','\u005cu03CD':'\u005cu03C5','\u005cu03CB':'\u005cu03C5','\u005cu03B0':'\u005cu03C5','\u005cu03C9':'\u005cu03C9','\u005cu03C2':'\u005cu03C3'};return diacritics;});S2.define('select2/data/base',['../utils'],function(Utils){function BaseAdapter($element,options){BaseAdapter.__super__.constructor.call(this);}\u000aUtils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error('The `current` method must be defined in child classes.');};BaseAdapter.prototype.query=function(params,callback){throw new Error('The `query` method must be defined in child classes.');};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+'-result-';id+=Utils.generateChars(4);if(data.id!=null){id+='-'+data.id.toString();}else{id+='-'+Utils.generateChars(4);}\u000areturn id;};return BaseAdapter;});S2.define('select2/data/select',['./base','../utils','jquery'],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.__super__.constructor.call(this);}\u000aUtils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(':selected').each(function(){var $option=$(this);var option=self.item($option);data.push(option);});callback(data);};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is('option')){data.element.selected=true;this.$element.trigger('change');return;}\u000aif(this.$element.prop('multiple')){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id);}}\u000aself.$element.val(val);self.$element.trigger('change');});}else{var val=data.id;this.$element.val(val);this.$element.trigger('change');}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop('multiple')){return;}\u000adata.selected=false;if($(data.element).is('option')){data.element.selected=false;this.$element.trigger('change');return;}\u000athis.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id);}}\u000aself.$element.val(val);self.$element.trigger('change');});};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on('select',function(params){self.select(params.data);});container.on('unselect',function(params){self.unselect(params.data);});};SelectAdapter.prototype.destroy=function(){this.$element.find('*').each(function(){$.removeData(this,'data');});};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is('option')&&!$option.is('optgroup')){return;}\u000avar option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches);}});callback({results:data});};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options);};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement('optgroup');option.label=data.text;}else{option=document.createElement('option');if(option.textContent!==undefined){option.textContent=data.text;}else{option.innerText=data.text;}}\u000aif(data.id){option.value=data.id;}\u000aif(data.disabled){option.disabled=true;}\u000aif(data.selected){option.selected=true;}\u000aif(data.title){option.title=data.title;}\u000avar $option=$(option);var normalizedData=this._normalizeItem(data);normalizedData.element=option;$.data(option,'data',normalizedData);return $option;};SelectAdapter.prototype.item=function($option){var data={};data=$.data($option[0],'data');if(data!=null){return data;}\u000aif($option.is('option')){data={id:$option.val(),text:$option.text(),disabled:$option.prop('disabled'),selected:$option.prop('selected'),title:$option.prop('title')};}else if($option.is('optgroup')){data={text:$option.prop('label'),children:[],title:$option.prop('title')};var $children=$option.children('option');var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child);}\u000adata.children=children;}\u000adata=this._normalizeItem(data);data.element=$option[0];$.data($option[0],'data',data);return data;};SelectAdapter.prototype._normalizeItem=function(item){if(!$.isPlainObject(item)){item={id:item,text:item};}\u000aitem=$.extend({},{text:''},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString();}\u000aif(item.text!=null){item.text=item.text.toString();}\u000aif(item._resultId==null&&item.id&&this.container!=null){item._resultId=this.generateResultId(this.container,item);}\u000areturn $.extend({},defaults,item);};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get('matcher');return matcher(params,data);};return SelectAdapter;});S2.define('select2/data/array',['./select','../utils','jquery'],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){var data=options.get('data')||[];ArrayAdapter.__super__.constructor.call(this,$element,options);this.addOptions(this.convertToOptions(data));}\u000aUtils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.select=function(data){var $option=this.$element.find('option').filter(function(i,elm){return elm.value==data.id.toString();});if($option.length===0){$option=this.option(data);this.addOptions($option);}\u000aArrayAdapter.__super__.select.call(this,data);};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find('option');var existingIds=$existing.map(function(){return self.item($(this)).id;}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id;};}\u000afor(var d=0;d<data.length;d++){var item=this._normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},existingData,item);var $newOption=this.option(existingData);$existingOption.replaceWith($newOption);continue;}\u000avar $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children);}\u000a$options.push($option);}\u000areturn $options;};return ArrayAdapter;});S2.define('select2/data/ajax',['./array','../utils','jquery'],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this._applyDefaults(options.get('ajax'));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults;}\u000aArrayAdapter.__super__.constructor.call(this,$element,options);}\u000aUtils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype._applyDefaults=function(options){var defaults={data:function(params){return{q:params.term};},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request;}};return $.extend({},defaults,options,true);};AjaxAdapter.prototype.processResults=function(results){return results;};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this._request!=null){if($.isFunction(this._request.abort)){this._request.abort();}\u000athis._request=null;}\u000avar options=$.extend({type:'GET'},this.ajaxOptions);if(typeof options.url==='function'){options.url=options.url(params);}\u000aif(typeof options.data==='function'){options.data=options.data(params);}\u000afunction request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get('debug')&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error('Select2: The AJAX results did not return an array in the '+'`results` key of the response.');}}\u000acallback(results);},function(){});self._request=$request;}\u000aif(this.ajaxOptions.delay&&params.term!==''){if(this._queryTimeout){window.clearTimeout(this._queryTimeout);}\u000athis._queryTimeout=window.setTimeout(request,this.ajaxOptions.delay);}else{request();}};return AjaxAdapter;});S2.define('select2/data/tags',['jquery'],function($){function Tags(decorated,$element,options){var tags=options.get('tags');var createTag=options.get('createTag');if(createTag!==undefined){this.createTag=createTag;}\u000adecorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this._normalizeItem(tag);var $option=this.option(item);this.$element.append($option);}}}\u000aTags.prototype.query=function(decorated,params,callback){var self=this;this._removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return;}\u000afunction wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=(option.children!=null&&!wrapper({results:option.children},true));var checkText=option.text===params.term;if(checkText||checkChildren){if(child){return false;}\u000aobj.data=data;callback(obj);return;}}\u000aif(child){return true;}\u000avar tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr('data-select2-tag',true);self.addOptions([$option]);self.insertTag(data,tag);}\u000aobj.results=data;callback(obj);}\u000adecorated.call(this,params,wrapper);};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===''){return null;}\u000areturn{id:term,text:term};};Tags.prototype.insertTag=function(_,data,tag){data.unshift(tag);};Tags.prototype._removeOldTags=function(_){var tag=this._lastTag;var $options=this.$element.find('option[data-select2-tag]');$options.each(function(){if(this.selected){return;}\u000a$(this).remove();});};return Tags;});S2.define('select2/data/tokenizer',['jquery'],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get('tokenizer');if(tokenizer!==undefined){this.tokenizer=tokenizer;}\u000adecorated.call(this,$element,options);}\u000aTokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find('.select2-search__field');};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function select(data){self.select(data);}\u000aparams.term=params.term||'';var tokenData=this.tokenizer(params,this.options,select);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.focus();}\u000aparams.term=tokenData.term;}\u000adecorated.call(this,params,callback);};Tokenizer.prototype.tokenizer=function(_,params,options,callback){var separators=options.get('tokenSeparators')||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term};};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue;}\u000avar part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);callback(data);term=term.substr(i+1)||'';i=0;}\u000areturn{term:term};};return Tokenizer;});S2.define('select2/data/minimumInputLength',[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get('minimumInputLength');decorated.call(this,$e,options);}\u000aMinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||'';if(params.term.length<this.minimumInputLength){this.trigger('results:message',{message:'inputTooShort',args:{minimum:this.minimumInputLength,input:params.term,params:params}});return;}\u000adecorated.call(this,params,callback);};return MinimumInputLength;});S2.define('select2/data/maximumInputLength',[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get('maximumInputLength');decorated.call(this,$e,options);}\u000aMaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||'';if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger('results:message',{message:'inputTooLong',args:{maximum:this.maximumInputLength,input:params.term,params:params}});return;}\u000adecorated.call(this,params,callback);};return MaximumInputLength;});S2.define('select2/data/maximumSelectionLength',[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get('maximumSelectionLength');decorated.call(this,$e,options);}\u000aMaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger('results:message',{message:'maximumSelected',args:{maximum:self.maximumSelectionLength}});return;}\u000adecorated.call(self,params,callback);});};return MaximumSelectionLength;});S2.define('select2/dropdown',['jquery','./utils'],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.__super__.constructor.call(this);}\u000aUtils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+'</span>');$dropdown.attr('dir',this.options.get('dir'));this.$dropdown=$dropdown;return $dropdown;};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove();};return Dropdown;});S2.define('select2/dropdown/search',['jquery','../utils'],function($,Utils){function Search(){}\u000aSearch.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+'</span>');this.$searchContainer=$search;this.$search=$search.find('input');$rendered.prepend($search);return $rendered;};Search.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);this.$search.on('keydown',function(evt){self.trigger('keypress',evt);self._keyUpPrevented=evt.isDefaultPrevented();});this.$search.on('input',function(evt){$(this).off('keyup');});this.$search.on('keyup input',function(evt){self.handleSearch(evt);});container.on('open',function(){self.$search.attr('tabindex',0);self.$search.focus();window.setTimeout(function(){self.$search.focus();},0);});container.on('close',function(){self.$search.attr('tabindex',-1);self.$search.val('');});container.on('results:all',function(params){if(params.query.term==null||params.query.term===''){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass('select2-search--hide');}else{self.$searchContainer.addClass('select2-search--hide');}}});};Search.prototype.handleSearch=function(evt){if(!this._keyUpPrevented){var input=this.$search.val();this.trigger('query',{term:input});}\u000athis._keyUpPrevented=false;};Search.prototype.showSearch=function(_,params){return true;};return Search;});S2.define('select2/dropdown/hidePlaceholder',[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get('placeholder'));decorated.call(this,$element,options,dataAdapter);}\u000aHidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data);};HidePlaceholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==='string'){placeholder={id:'',text:placeholder};}\u000areturn placeholder;};HidePlaceholder.prototype.removePlaceholder=function(_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1);}}\u000areturn modifiedData;};return HidePlaceholder;});S2.define('select2/dropdown/infiniteScroll',['jquery'],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false;}\u000aInfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore);}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('query',function(params){self.lastParams=params;self.loading=true;});container.on('query:append',function(params){self.lastParams=params;self.loading=true;});this.$results.on('scroll',function(){var isLoadMoreVisible=$.contains(document.documentElement,self.$loadingMore[0]);if(self.loading||!isLoadMoreVisible){return;}\u000avar currentOffset=self.$results.offset().top+\u000aself.$results.outerHeight(false);var loadingMoreOffset=self.$loadingMore.offset().top+\u000aself.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){self.loadMore();}});};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger('query:append',params);};InfiniteScroll.prototype.showLoadingMore=function(_,data){return data.pagination&&data.pagination.more;};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$('<li class="option load-more" role="treeitem"></li>');var message=this.options.get('translations').get('loadingMore');$option.html(message(this.lastParams));return $option;};return InfiniteScroll;});S2.define('select2/dropdown/attachBody',['jquery','../utils'],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=options.get('dropdownParent')||document.body;decorated.call(this,$element,options);}\u000aAttachBody.prototype.bind=function(decorated,container,$container){var self=this;var setupResultsEvents=false;decorated.call(this,container,$container);container.on('open',function(){self._showDropdown();self._attachPositioningHandler(container);if(!setupResultsEvents){setupResultsEvents=true;container.on('results:all',function(){self._positionDropdown();self._resizeDropdown();});container.on('results:append',function(){self._positionDropdown();self._resizeDropdown();});}});container.on('close',function(){self._hideDropdown();self._detachPositioningHandler(container);});this.$dropdownContainer.on('mousedown',function(evt){evt.stopPropagation();});};AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr('class',$container.attr('class'));$dropdown.removeClass('select2');$dropdown.addClass('select2-container--open');$dropdown.css({position:'absolute',top:-999999});this.$container=$container;};AttachBody.prototype.render=function(decorated){var $container=$('<span></span>');var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container;};AttachBody.prototype._hideDropdown=function(decorated){this.$dropdownContainer.detach();};AttachBody.prototype._attachPositioningHandler=function(container){var self=this;var scrollEvent='scroll.select2.'+container.id;var resizeEvent='resize.select2.'+container.id;var orientationEvent='orientationchange.select2.'+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){$(this).data('select2-scroll-position',{x:$(this).scrollLeft(),y:$(this).scrollTop()});});$watchers.on(scrollEvent,function(ev){var position=$(this).data('select2-scroll-position');$(this).scrollTop(position.y);});$(window).on(scrollEvent+' '+resizeEvent+' '+orientationEvent,function(e){self._positionDropdown();self._resizeDropdown();});};AttachBody.prototype._detachPositioningHandler=function(container){var scrollEvent='scroll.select2.'+container.id;var resizeEvent='resize.select2.'+container.id;var orientationEvent='orientationchange.select2.'+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+' '+resizeEvent+' '+orientationEvent);};AttachBody.prototype._positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass('select2-dropdown--above');var isCurrentlyBelow=this.$dropdown.hasClass('select2-dropdown--below');var newDirection=null;var position=this.$container.position();var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<(offset.top-dropdown.height);var enoughRoomBelow=viewport.bottom>(offset.bottom+dropdown.height);var css={left:offset.left,top:container.bottom};if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection='below';}\u000aif(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection='above';}else if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection='below';}\u000aif(newDirection=='above'||(isCurrentlyAbove&&newDirection!=='below')){css.top=container.top-dropdown.height;}\u000aif(newDirection!=null){this.$dropdown.removeClass('select2-dropdown--below select2-dropdown--above').addClass('select2-dropdown--'+newDirection);this.$container.removeClass('select2-container--below select2-container--above').addClass('select2-container--'+newDirection);}\u000athis.$dropdownContainer.css(css);};AttachBody.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var css={width:this.$container.outerWidth(false)+'px'};if(this.options.get('dropdownAutoWidth')){css.minWidth=css.width;css.width='auto';}\u000athis.$dropdown.css(css);};AttachBody.prototype._showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown();};return AttachBody;});S2.define('select2/dropdown/minimumResultsForSearch',[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children);}else{count++;}}\u000areturn count;}\u000afunction MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get('minimumResultsForSearch');if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity;}\u000adecorated.call(this,$element,options,dataAdapter);}\u000aMinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false;}\u000areturn decorated.call(this,params);};return MinimumResultsForSearch;});S2.define('select2/dropdown/selectOnClose',[],function(){function SelectOnClose(){}\u000aSelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('close',function(){self._handleSelectOnClose();});};SelectOnClose.prototype._handleSelectOnClose=function(){var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return;}\u000athis.trigger('select',{data:$highlightedResults.data('data')});};return SelectOnClose;});S2.define('select2/dropdown/closeOnSelect',[],function(){function CloseOnSelect(){}\u000aCloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on('select',function(evt){self._selectTriggered(evt);});container.on('unselect',function(evt){self._selectTriggered(evt);});};CloseOnSelect.prototype._selectTriggered=function(_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&originalEvent.ctrlKey){return;}\u000athis.trigger('close');};return CloseOnSelect;});S2.define('select2/i18n/en',[],function(){return{errorLoading:function(){return'The results could not be loaded.';},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message='Please delete '+overChars+' character';if(overChars!=1){message+='s';}\u000areturn message;},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message='Please enter '+remainingChars+' or more characters';return message;},loadingMore:function(){return'Loading more results\u2026';},maximumSelected:function(args){var message='You can only select '+args.maximum+' item';if(args.maximum!=1){message+='s';}\u000areturn message;},noResults:function(){return'No results found';},searching:function(){return'Searching\u2026';}};});S2.define('select2/defaults',['jquery','require','./results','./selection/single','./selection/multiple','./selection/placeholder','./selection/allowClear','./selection/search','./selection/eventRelay','./utils','./translation','./diacritics','./data/select','./data/array','./data/ajax','./data/tags','./data/tokenizer','./data/minimumInputLength','./data/maximumInputLength','./data/maximumSelectionLength','./dropdown','./dropdown/search','./dropdown/hidePlaceholder','./dropdown/infiniteScroll','./dropdown/attachBody','./dropdown/minimumResultsForSearch','./dropdown/selectOnClose','./dropdown/closeOnSelect','./i18n/en'],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset();}\u000aDefaults.prototype.apply=function(options){options=$.extend({},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData;}else if(options.data!=null){options.dataAdapter=ArrayData;}else{options.dataAdapter=SelectData;}\u000aif(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength);}\u000aif(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength);}\u000aif(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength);}\u000aif(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags);}\u000aif(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer);}\u000aif(options.query!=null){var Query=require(options.amdBase+'compat/query');options.dataAdapter=Utils.Decorate(options.dataAdapter,Query);}\u000aif(options.initSelection!=null){var InitSelection=require(options.amdBase+'compat/initSelection');options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection);}}\u000aif(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll);}\u000aif(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder);}\u000aif(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose);}}\u000aif(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown;}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown;}\u000aif(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch);}\u000aif(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect);}\u000aif(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+'compat/dropdownCss');options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS);}\u000aoptions.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody);}\u000aif(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection;}else{options.selectionAdapter=SingleSelection;}\u000aif(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder);}\u000aif(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear);}\u000aif(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch);}\u000aif(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+'compat/containerCss');options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS);}\u000aoptions.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay);}\u000aif(typeof options.language==='string'){if(options.language.indexOf('-')>0){var languageParts=options.language.split('-');var baseLanguage=languageParts[0];options.language=[options.language,baseLanguage];}else{options.language=[options.language];}}\u000aif($.isArray(options.language)){var languages=new Translation();options.language.push('en');var languageNames=options.language;for(var l=0;l<languageNames.length;l++){var name=languageNames[l];var language={};try{language=Translation.loadPath(name);}catch(e){try{name=this.defaults.amdLanguageBase+name;language=Translation.loadPath(name);}catch(ex){if(options.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+name+'" could not be '+'automatically loaded. A fallback will be used instead.');}\u000acontinue;}}\u000alanguages.extend(language);}\u000aoptions.translations=languages;}else{var baseTranslation=Translation.loadPath(this.defaults.amdLanguageBase+'en');var customTranslation=new Translation(options.language);customTranslation.extend(baseTranslation);options.translations=customTranslation;}\u000areturn options;};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a;}\u000areturn text.replace(/[^\u005cu0000-\u005cu007E]/g,match);}\u000afunction matcher(params,data){if($.trim(params.term)===''){return data;}\u000aif(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1);}}\u000aif(match.children.length>0){return match;}\u000areturn matcher(params,match);}\u000avar original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data;}\u000areturn null;}\u000athis.defaults={amdBase:'./',amdLanguageBase:'./i18n/',closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:EnglishTranslation,matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(data){return data;},templateResult:function(result){return result.text;},templateSelection:function(selection){return selection.text;},theme:'default',width:'resolve'};};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils._convertData(data);$.extend(this.defaults,convertedData);};var defaults=new Defaults();return defaults;});S2.define('select2/options',['require','jquery','./defaults','./utils'],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element);}\u000athis.options=Defaults.apply(this.options);if($element&&$element.is('input')){var InputCompat=require(this.get('amdBase')+'compat/inputData');this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat);}}\u000aOptions.prototype.fromElement=function($e){var excludedData=['select2'];if(this.options.multiple==null){this.options.multiple=$e.prop('multiple');}\u000aif(this.options.disabled==null){this.options.disabled=$e.prop('disabled');}\u000aif(this.options.language==null){if($e.prop('lang')){this.options.language=$e.prop('lang').toLowerCase();}else if($e.closest('[lang]').prop('lang')){this.options.language=$e.closest('[lang]').prop('lang');}}\u000aif(this.options.dir==null){if($e.prop('dir')){this.options.dir=$e.prop('dir');}else if($e.closest('[dir]').prop('dir')){this.options.dir=$e.closest('[dir]').prop('dir');}else{this.options.dir='ltr';}}\u000a$e.prop('disabled',this.options.disabled);$e.prop('multiple',this.options.multiple);if($e.data('select2Tags')){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-select2-tags` attribute has been changed to '+'use the `data-data` and `data-tags="true"` attributes and will be '+'removed in future versions of Select2.');}\u000a$e.data('data',$e.data('select2Tags'));$e.data('tags',true);}\u000aif($e.data('ajaxUrl')){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-ajax-url` attribute has been changed to '+'`data-ajax--url` and support for the old attribute will be removed'+' in future versions of Select2.');}\u000a$e.attr('ajax--url',$e.data('ajaxUrl'));$e.data('ajax--url',$e.data('ajaxUrl'));}\u000avar dataset={};if($.fn.jquery&&$.fn.jquery.substr(0,2)=='1.'&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,$e.data());}else{dataset=$e.data();}\u000avar data=$.extend(true,{},dataset);data=Utils._convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue;}\u000aif($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key]);}else{this.options[key]=data[key];}}\u000areturn this;};Options.prototype.get=function(key){return this.options[key];};Options.prototype.set=function(key,val){this.options[key]=val;};return Options;});S2.define('select2/core',['jquery','./options','./utils','./keys'],function($,Options,Utils,KEYS){var Select2=function($element,options){if($element.data('select2')!=null){$element.data('select2').destroy();}\u000athis.$element=$element;this.id=this._generateId($element);options=options||{};this.options=new Options(options,$element);Select2.__super__.constructor.call(this);var tabindex=$element.attr('tabindex')||0;$element.data('old-tabindex',tabindex);$element.attr('tabindex','-1');var DataAdapter=this.options.get('dataAdapter');this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this._placeContainer($container);var SelectionAdapter=this.options.get('selectionAdapter');this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get('dropdownAdapter');this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get('resultsAdapter');this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(initialData){self.trigger('selection:update',{data:initialData});});$element.addClass('select2-hidden-accessible');$element.attr('aria-hidden','true');this._syncAttributes();$element.data('select2',this);};Utils.Extend(Select2,Utils.Observable);Select2.prototype._generateId=function($element){var id='';if($element.attr('id')!=null){id=$element.attr('id');}else if($element.attr('name')!=null){id=$element.attr('name')+'-'+Utils.generateChars(2);}else{id=Utils.generateChars(4);}\u000aid='select2-'+id;return id;};Select2.prototype._placeContainer=function($container){$container.insertAfter(this.$element);var width=this._resolveWidth(this.$element,this.options.get('width'));if(width!=null){$container.css('width',width);}};Select2.prototype._resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]*\u005c.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=='resolve'){var styleWidth=this._resolveWidth($element,'style');if(styleWidth!=null){return styleWidth;}\u000areturn this._resolveWidth($element,'element');}\u000aif(method=='element'){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return'auto';}\u000areturn elementWidth+'px';}\u000aif(method=='style'){var style=$element.attr('style');if(typeof(style)!=='string'){return null;}\u000avar attrs=style.split(';');for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\u005cs/g,'');var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1];}}\u000areturn null;}\u000areturn method;};Select2.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container);};Select2.prototype._registerDomEvents=function(){var self=this;this.$element.on('change.select2',function(){self.dataAdapter.current(function(data){self.trigger('selection:update',{data:data});});});this._sync=Utils.bind(this._syncAttributes,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent('onpropertychange',this._sync);}\u000avar observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this._observer=new observer(function(mutations){$.each(mutations,self._sync);});this._observer.observe(this.$element[0],{attributes:true,subtree:false});}else if(this.$element[0].addEventListener){this.$element[0].addEventListener('DOMAttrModified',self._sync,false);}};Select2.prototype._registerDataEvents=function(){var self=this;this.dataAdapter.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerSelectionEvents=function(){var self=this;var nonRelayEvents=['toggle'];this.selection.on('toggle',function(){self.toggleDropdown();});this.selection.on('*',function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return;}\u000aself.trigger(name,params);});};Select2.prototype._registerDropdownEvents=function(){var self=this;this.dropdown.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerResultsEvents=function(){var self=this;this.results.on('*',function(name,params){self.trigger(name,params);});};Select2.prototype._registerEvents=function(){var self=this;this.on('open',function(){self.$container.addClass('select2-container--open');});this.on('close',function(){self.$container.removeClass('select2-container--open');});this.on('enable',function(){self.$container.removeClass('select2-container--disabled');});this.on('disable',function(){self.$container.addClass('select2-container--disabled');});this.on('focus',function(){self.$container.addClass('select2-container--focus');});this.on('blur',function(){self.$container.removeClass('select2-container--focus');});this.on('query',function(params){if(!self.isOpen()){self.trigger('open');}\u000athis.dataAdapter.query(params,function(data){self.trigger('results:all',{data:data,query:params});});});this.on('query:append',function(params){this.dataAdapter.query(params,function(data){self.trigger('results:append',{data:data,query:params});});});this.on('keypress',function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ENTER){self.trigger('results:select');evt.preventDefault();}else if((key===KEYS.SPACE&&evt.ctrlKey)){self.trigger('results:toggle');evt.preventDefault();}else if(key===KEYS.UP){self.trigger('results:previous');evt.preventDefault();}else if(key===KEYS.DOWN){self.trigger('results:next');evt.preventDefault();}else if(key===KEYS.ESC||key===KEYS.TAB){self.close();evt.preventDefault();}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||((key===KEYS.DOWN||key===KEYS.UP)&&evt.altKey)){self.open();evt.preventDefault();}}});};Select2.prototype._syncAttributes=function(){this.options.set('disabled',this.$element.prop('disabled'));if(this.options.get('disabled')){if(this.isOpen()){this.close();}\u000athis.trigger('disable');}else{this.trigger('enable');}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.__super__.trigger;var preTriggerMap={'open':'opening','close':'closing','select':'selecting','unselect':'unselecting'};if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return;}}\u000aactualTrigger.call(this,name,args);};Select2.prototype.toggleDropdown=function(){if(this.options.get('disabled')){return;}\u000aif(this.isOpen()){this.close();}else{this.open();}};Select2.prototype.open=function(){if(this.isOpen()){return;}\u000athis.trigger('query',{});this.trigger('open');};Select2.prototype.close=function(){if(!this.isOpen()){return;}\u000athis.trigger('close');};Select2.prototype.isOpen=function(){return this.$container.hasClass('select2-container--open');};Select2.prototype.enable=function(args){if(this.options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+' instead.');}\u000aif(args==null||args.length===0){args=[true];}\u000avar disabled=!args[0];this.$element.prop('disabled',disabled);};Select2.prototype.data=function(){if(this.options.get('debug')&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+'should consider setting the value instead using `$element.val()`.');}\u000avar data=[];this.dataAdapter.current(function(currentData){data=currentData;});return data;};Select2.prototype.val=function(args){if(this.options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+' removed in later Select2 versions. Use $element.val() instead.');}\u000aif(args==null||args.length===0){return this.$element.val();}\u000avar newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString();});}\u000athis.$element.val(newVal).trigger('change');};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent('onpropertychange',this._sync);}\u000aif(this._observer!=null){this._observer.disconnect();this._observer=null;}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener('DOMAttrModified',this._sync,false);}\u000athis._sync=null;this.$element.off('.select2');this.$element.attr('tabindex',this.$element.data('old-tabindex'));this.$element.removeClass('select2-hidden-accessible');this.$element.attr('aria-hidden','false');this.$element.removeData('select2');this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null;};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+'</span>');$container.attr('dir',this.options.get('dir'));this.$container=$container;this.$container.addClass('select2-container--'+this.options.get('theme'));$container.data('element',this.$element);return $container;};return Select2;});S2.define('select2/compat/utils',['jquery'],function($){function syncCssClasses($dest,$src,adapter){var classes,replacements=[],adapted;classes=$.trim($dest.attr('class'));if(classes){classes=''+classes;$(classes.split(/\u005cs+/)).each(function(){if(this.indexOf('select2-')===0){replacements.push(this);}});}\u000aclasses=$.trim($src.attr('class'));if(classes){classes=''+classes;$(classes.split(/\u005cs+/)).each(function(){if(this.indexOf('select2-')!==0){adapted=adapter(this);if(adapted!=null){replacements.push(adapted);}}});}\u000a$dest.attr('class',replacements.join(' '));}\u000areturn{syncCssClasses:syncCssClasses};});S2.define('select2/compat/containerCss',['jquery','./utils'],function($,CompatUtils){function _containerAdapter(clazz){return null;}\u000afunction ContainerCSS(){}\u000aContainerCSS.prototype.render=function(decorated){var $container=decorated.call(this);var containerCssClass=this.options.get('containerCssClass')||'';if($.isFunction(containerCssClass)){containerCssClass=containerCssClass(this.$element);}\u000avar containerCssAdapter=this.options.get('adaptContainerCssClass');containerCssAdapter=containerCssAdapter||_containerAdapter;if(containerCssClass.indexOf(':all:')!==-1){containerCssClass=containerCssClass.replace(':all','');var _cssAdapter=containerCssAdapter;containerCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+' '+clazz;}\u000areturn clazz;};}\u000avar containerCss=this.options.get('containerCss')||{};if($.isFunction(containerCss)){containerCss=containerCss(this.$element);}\u000aCompatUtils.syncCssClasses($container,this.$element,containerCssAdapter);$container.css(containerCss);$container.addClass(containerCssClass);return $container;};return ContainerCSS;});S2.define('select2/compat/dropdownCss',['jquery','./utils'],function($,CompatUtils){function _dropdownAdapter(clazz){return null;}\u000afunction DropdownCSS(){}\u000aDropdownCSS.prototype.render=function(decorated){var $dropdown=decorated.call(this);var dropdownCssClass=this.options.get('dropdownCssClass')||'';if($.isFunction(dropdownCssClass)){dropdownCssClass=dropdownCssClass(this.$element);}\u000avar dropdownCssAdapter=this.options.get('adaptDropdownCssClass');dropdownCssAdapter=dropdownCssAdapter||_dropdownAdapter;if(dropdownCssClass.indexOf(':all:')!==-1){dropdownCssClass=dropdownCssClass.replace(':all','');var _cssAdapter=dropdownCssAdapter;dropdownCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+' '+clazz;}\u000areturn clazz;};}\u000avar dropdownCss=this.options.get('dropdownCss')||{};if($.isFunction(dropdownCss)){dropdownCss=dropdownCss(this.$element);}\u000aCompatUtils.syncCssClasses($dropdown,this.$element,dropdownCssAdapter);$dropdown.css(dropdownCss);$dropdown.addClass(dropdownCssClass);return $dropdown;};return DropdownCSS;});S2.define('select2/compat/initSelection',['jquery'],function($){function InitSelection(decorated,$element,options){if(options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `initSelection` option has been deprecated in favor'+' of a custom data adapter that overrides the `current` method. '+'This method is now called multiple times instead of a single '+'time when the instance is initialized. Support will be removed '+'for the `initSelection` option in future versions of Select2');}\u000athis.initSelection=options.get('initSelection');this._isInitialized=false;decorated.call(this,$element,options);}\u000aInitSelection.prototype.current=function(decorated,callback){var self=this;if(this._isInitialized){decorated.call(this,callback);return;}\u000athis.initSelection.call(null,this.$element,function(data){self._isInitialized=true;if(!$.isArray(data)){data=[data];}\u000acallback(data);});};return InitSelection;});S2.define('select2/compat/inputData',['jquery'],function($){function InputData(decorated,$element,options){this._currentData=[];this._valueSeparator=options.get('valueSeparator')||',';if($element.prop('type')==='hidden'){if(options.get('debug')&&console&&console.warn){console.warn('Select2: Using a hidden input with Select2 is no longer '+'supported and may stop working in the future. It is recommended '+'to use a `<select>` element instead.');}}\u000adecorated.call(this,$element,options);}\u000aInputData.prototype.current=function(_,callback){function getSelected(data,selectedIds){var selected=[];if(data.selected||$.inArray(data.id,selectedIds)!==-1){data.selected=true;selected.push(data);}else{data.selected=false;}\u000aif(data.children){selected.push.apply(selected,getSelected(data.children,selectedIds));}\u000areturn selected;}\u000avar selected=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];selected.push.apply(selected,getSelected(data,this.$element.val().split(this._valueSeparator)));}\u000acallback(selected);};InputData.prototype.select=function(_,data){if(!this.options.get('multiple')){this.current(function(allData){$.map(allData,function(data){data.selected=false;});});this.$element.val(data.id);this.$element.trigger('change');}else{var value=this.$element.val();value+=this._valueSeparator+data.id;this.$element.val(value);this.$element.trigger('change');}};InputData.prototype.unselect=function(_,data){var self=this;data.selected=false;this.current(function(allData){var values=[];for(var d=0;d<allData.length;d++){var item=allData[d];if(data.id==item.id){continue;}\u000avalues.push(item.id);}\u000aself.$element.val(values.join(self._valueSeparator));self.$element.trigger('change');});};InputData.prototype.query=function(_,params,callback){var results=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];var matches=this.matches(params,data);if(matches!==null){results.push(matches);}}\u000acallback({results:results});};InputData.prototype.addOptions=function(_,$options){var options=$.map($options,function($option){return $.data($option[0],'data');});this._currentData.push.apply(this._currentData,options);};return InputData;});S2.define('select2/compat/matcher',['jquery'],function($){function oldMatcher(matcher){function wrappedMatcher(params,data){var match=$.extend(true,{},data);if(params.term==null||$.trim(params.term)===''){return match;}\u000aif(data.children){for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var doesMatch=matcher(params.term,child.text,child);if(!doesMatch){match.children.splice(c,1);}}\u000aif(match.children.length>0){return match;}}\u000aif(matcher(params.term,data.text,data)){return match;}\u000areturn null;}\u000areturn wrappedMatcher;}\u000areturn oldMatcher;});S2.define('select2/compat/query',[],function(){function Query(decorated,$element,options){if(options.get('debug')&&window.console&&console.warn){console.warn('Select2: The `query` option has been deprecated in favor of a '+'custom data adapter that overrides the `query` method. Support '+'will be removed for the `query` option in future versions of '+'Select2.');}\u000adecorated.call(this,$element,options);}\u000aQuery.prototype.query=function(_,params,callback){params.callback=callback;var query=this.options.get('query');query.call(null,params);};return Query;});S2.define('select2/dropdown/attachContainer',[],function(){function AttachContainer(decorated,$element,options){decorated.call(this,$element,options);}\u000aAttachContainer.prototype.position=function(decorated,$dropdown,$container){var $dropdownContainer=$container.find('.dropdown-wrapper');$dropdownContainer.append($dropdown);$dropdown.addClass('select2-dropdown--below');$container.addClass('select2-container--below');};return AttachContainer;});S2.define('select2/dropdown/stopPropagation',[],function(){function StopPropagation(){}\u000aStopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=['blur','change','click','dblclick','focus','focusin','focusout','input','keydown','keyup','keypress','mousedown','mouseenter','mouseleave','mousemove','mouseover','mouseup','search','touchend','touchstart'];this.$dropdown.on(stoppedEvents.join(' '),function(evt){evt.stopPropagation();});};return StopPropagation;});S2.define('select2/selection/stopPropagation',[],function(){function StopPropagation(){}\u000aStopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=['blur','change','click','dblclick','focus','focusin','focusout','input','keydown','keyup','keypress','mousedown','mouseenter','mouseleave','mousemove','mouseover','mouseup','search','touchend','touchstart'];this.$selection.on(stoppedEvents.join(' '),function(evt){evt.stopPropagation();});};return StopPropagation;});S2.define('jquery.select2',['jquery','require','./select2/core','./select2/defaults'],function($,require,Select2,Defaults){require('jquery.mousewheel');if($.fn.select2==null){var thisMethods=['open','close','destroy'];$.fn.select2=function(options){options=options||{};if(typeof options==='object'){this.each(function(){var instanceOptions=$.extend({},options,true);var instance=new Select2($(this),instanceOptions);});return this;}else if(typeof options==='string'){var instance=this.data('select2');if(instance==null&&window.console&&console.error){console.error('The select2(\u005c''+options+'\u005c') method was called on an '+'element that is not using Select2.');}\u000avar args=Array.prototype.slice.call(arguments,1);var ret=instance[options](args);if($.inArray(options,thisMethods)>-1){return this;}\u000areturn ret;}else{throw new Error('Invalid arguments for Select2: '+options);}};}\u000aif($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults;}\u000areturn Select2;});(function(factory){if(typeof S2.define==='function'&&S2.define.amd){S2.define('jquery.mousewheel',['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'],toBind=('onwheel'in document||document.documentMode>=9)?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}\u000avar special=$.event.special.mousewheel={version:'3.1.12',setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}\u000a$.data(this,'mousewheel-line-height',special.getLineHeight(this));$.data(this,'mousewheel-page-height',special.getPageHeight(this));},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}\u000a$.removeData(this,'mousewheel-line-height');$.removeData(this,'mousewheel-page-height');},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem['offsetParent'in $.fn?'offsetParent':'parent']();if(!$parent.length){$parent=$('body');}\u000areturn parseInt($parent.css('fontSize'),10)||parseInt($elem.css('fontSize'),10)||16;},getPageHeight:function(elem){return $(elem).height();},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind('mousewheel',fn):this.trigger('mousewheel');},unmousewheel:function(fn){return this.unbind('mousewheel',fn);}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type='mousewheel';if('detail'in orgEvent){deltaY=orgEvent.detail*-1;}\u000aif('wheelDelta'in orgEvent){deltaY=orgEvent.wheelDelta;}\u000aif('wheelDeltaY'in orgEvent){deltaY=orgEvent.wheelDeltaY;}\u000aif('wheelDeltaX'in orgEvent){deltaX=orgEvent.wheelDeltaX*-1;}\u000aif('axis'in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0;}\u000adelta=deltaY===0?deltaX:deltaY;if('deltaY'in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY;}\u000aif('deltaX'in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1;}}\u000aif(deltaY===0&&deltaX===0){return;}\u000aif(orgEvent.deltaMode===1){var lineHeight=$.data(this,'mousewheel-line-height');delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight;}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,'mousewheel-page-height');delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight;}\u000aabsDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40;}}\u000aif(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40;}\u000adelta=Math[delta>=1?'floor':'ceil'](delta/lowestDelta);deltaX=Math[deltaX>=1?'floor':'ceil'](deltaX/lowestDelta);deltaY=Math[deltaY>=1?'floor':'ceil'](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top;}\u000aevent.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout);}\u000anullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args);}\u000afunction nullLowestDelta(){lowestDelta=null;}\u000afunction shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==='mousewheel'&&absDelta%120===0;}}));return{define:S2.define,require:S2.require};}());var select2=S2.require('jquery.select2');jQuery.fn.select2.amd=S2;return select2;}));
p1
.